!function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return o(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){!function(e,n){"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=Z.type(e);return"function"===n||Z.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(Z.isFunction(t))return Z.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return Z.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(se.test(t))return Z.filter(t,e,n);t=Z.filter(t,e)}return Z.grep(e,function(e){return V.call(t,e)>=0!==n})}function o(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function i(e){var t=de[e]={};return Z.each(e.match(fe)||[],function(e,n){t[n]=!0}),t}function a(){J.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1),Z.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+s.uid++}function c(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(xe,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:be.test(n)?Z.parseJSON(n):n}catch(o){}ve.set(e,t,n)}else n=void 0;return n}function u(){return!0}function l(){return!1}function p(){try{return J.activeElement}catch(e){}}function h(e,t){return Z.nodeName(e,"table")&&Z.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function f(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function d(e){var t=Be.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function m(e,t){for(var n=0,r=e.length;r>n;n++)ye.set(e[n],"globalEval",!t||ye.get(t[n],"globalEval"))}function g(e,t){var n,r,o,i,a,s,c,u;if(1===t.nodeType){if(ye.hasData(e)&&(i=ye.access(e),a=ye.set(t,i),u=i.events)){delete a.handle,a.events={};for(o in u)for(n=0,r=u[o].length;r>n;n++)Z.event.add(t,o,u[o][n])}ve.hasData(e)&&(s=ve.access(e),c=Z.extend({},s),ve.set(t,c))}}function y(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Z.nodeName(e,t)?Z.merge([e],n):n}function v(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ce.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function b(t,n){var r,o=Z(n.createElement(t)).appendTo(n.body),i=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(o[0]))?r.display:Z.css(o[0],"display");return o.detach(),i}function x(e){var t=J,n=Ie[e];return n||(n=b(e,t),"none"!==n&&n||(He=(He||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=He[0].contentDocument,t.write(),t.close(),n=b(e,t),He.detach()),Ie[e]=n),n}function w(e,t,n){var r,o,i,a,s=e.style;return n=n||Ue(e),n&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||Z.contains(e.ownerDocument,e)||(a=Z.style(e,t)),ze.test(a)&&_e.test(t)&&(r=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=o,s.maxWidth=i)),void 0!==a?a+"":a}function k(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function T(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,o=Ge.length;o--;)if(t=Ge[o]+n,t in e)return t;return r}function C(e,t,n){var r=Xe.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function E(e,t,n,r,o){for(var i=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>i;i+=2)"margin"===n&&(a+=Z.css(e,n+ke[i],!0,o)),r?("content"===n&&(a-=Z.css(e,"padding"+ke[i],!0,o)),"margin"!==n&&(a-=Z.css(e,"border"+ke[i]+"Width",!0,o))):(a+=Z.css(e,"padding"+ke[i],!0,o),"padding"!==n&&(a+=Z.css(e,"border"+ke[i]+"Width",!0,o)));return a}function A(e,t,n){var r=!0,o="width"===t?e.offsetWidth:e.offsetHeight,i=Ue(e),a="border-box"===Z.css(e,"boxSizing",!1,i);if(0>=o||null==o){if(o=w(e,t,i),(0>o||null==o)&&(o=e.style[t]),ze.test(o))return o;r=a&&(K.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+E(e,t,n||(a?"border":"content"),r,i)+"px"}function S(e,t){for(var n,r,o,i=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(i[a]=ye.get(r,"olddisplay"),n=r.style.display,t?(i[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Te(r)&&(i[a]=ye.access(r,"olddisplay",x(r.nodeName)))):(o=Te(r),"none"===n&&o||ye.set(r,"olddisplay",o?n:Z.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?i[a]||"":"none"));return e}function j(e,t,n,r,o){return new j.prototype.init(e,t,n,r,o)}function M(){return setTimeout(function(){Ke=void 0}),Ke=Z.now()}function N(e,t){var n,r=0,o={height:e};for(t=t?1:0;4>r;r+=2-t)n=ke[r],o["margin"+n]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function D(e,t,n){for(var r,o=(nt[t]||[]).concat(nt["*"]),i=0,a=o.length;a>i;i++)if(r=o[i].call(n,t,e))return r}function R(e,t,n){var r,o,i,a,s,c,u,l,p=this,h={},f=e.style,d=e.nodeType&&Te(e),m=ye.get(e,"fxshow");n.queue||(s=Z._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,c=s.empty.fire,s.empty.fire=function(){s.unqueued||c()}),s.unqueued++,p.always(function(){p.always(function(){s.unqueued--,Z.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],u=Z.css(e,"display"),l="none"===u?ye.get(e,"olddisplay")||x(e.nodeName):u,"inline"===l&&"none"===Z.css(e,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",p.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(r in t)if(o=t[r],Qe.exec(o)){if(delete t[r],i=i||"toggle"===o,o===(d?"hide":"show")){if("show"!==o||!m||void 0===m[r])continue;d=!0}h[r]=m&&m[r]||Z.style(e,r)}else u=void 0;if(Z.isEmptyObject(h))"inline"===("none"===u?x(e.nodeName):u)&&(f.display=u);else{m?"hidden"in m&&(d=m.hidden):m=ye.access(e,"fxshow",{}),i&&(m.hidden=!d),d?Z(e).show():p.done(function(){Z(e).hide()}),p.done(function(){var t;ye.remove(e,"fxshow");for(t in h)Z.style(e,t,h[t])});for(r in h)a=D(d?m[r]:0,r,p),r in m||(m[r]=a.start,d&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function L(e,t){var n,r,o,i,a;for(n in e)if(r=Z.camelCase(n),o=t[r],i=e[n],Z.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),a=Z.cssHooks[r],a&&"expand"in a){i=a.expand(i),delete e[r];for(n in i)n in e||(e[n]=i[n],t[n]=o)}else t[r]=o}function P(e,t,n){var r,o,i=0,a=tt.length,s=Z.Deferred().always(function(){delete c.elem}),c=function(){if(o)return!1;for(var t=Ke||M(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,i=1-r,a=0,c=u.tweens.length;c>a;a++)u.tweens[a].run(i);return s.notifyWith(e,[u,i,n]),1>i&&c?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Ke||M(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Z.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(o)return this;for(o=!0;r>n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),l=u.props;for(L(l,u.opts.specialEasing);a>i;i++)if(r=tt[i].call(u,e,l,u.opts))return r;return Z.map(l,D,u),Z.isFunction(u.opts.start)&&u.opts.start.call(e,u),Z.fx.timer(Z.extend(c,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function O(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(fe)||[];if(Z.isFunction(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function B(e,t,n,r){function o(s){var c;return i[s]=!0,Z.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||i[u]?a?!(c=u):void 0:(t.dataTypes.unshift(u),o(u),!1)}),c}var i={},a=e===bt;return o(t.dataTypes[0])||!i["*"]&&o("*")}function q(e,t){var n,r,o=Z.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&Z.extend(!0,e,r),e}function F(e,t,n){for(var r,o,i,a,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){c.unshift(o);break}if(c[0]in n)i=c[0];else{for(o in n){if(!c[0]||e.converters[o+" "+c[0]]){i=o;break}a||(a=o)}i=i||a}return i?(i!==c[0]&&c.unshift(i),n[i]):void 0}function H(e,t,n,r){var o,i,a,s,c,u={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(i=l.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!c&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=i,i=l.shift())if("*"===i)i=c;else if("*"!==c&&c!==i){if(a=u[c+" "+i]||u["* "+i],!a)for(o in u)if(s=o.split(" "),s[1]===i&&(a=u[c+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[o]:u[o]!==!0&&(i=s[0],l.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(p){return{state:"parsererror",error:a?p:"No conversion from "+c+" to "+i}}}return{state:"success",data:t}}function I(e,t,n,r){var o;if(Z.isArray(t))Z.each(t,function(t,o){n||Ct.test(e)?r(e,o):I(e+"["+("object"==typeof o?t:"")+"]",o,n,r)});else if(n||"object"!==Z.type(t))r(e,t);else for(o in t)I(e+"["+o+"]",t[o],n,r)}function _(e){return Z.isWindow(e)?e:9===e.nodeType&&e.defaultView}var z=[],U=z.slice,W=z.concat,X=z.push,V=z.indexOf,$={},Y=$.toString,G=$.hasOwnProperty,K={},J=e.document,Q="2.1.3",Z=function(e,t){return new Z.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ne=/-([\da-z])/gi,re=function(e,t){return t.toUpperCase()};Z.fn=Z.prototype={jquery:Q,constructor:Z,selector:"",length:0,toArray:function(){return U.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:U.call(this)},pushStack:function(e){var t=Z.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Z.each(this,e,t)},map:function(e){return this.pushStack(Z.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(U.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:X,sort:z.sort,splice:z.splice},Z.extend=Z.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},s=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||Z.isFunction(a)||(a={}),s===c&&(a=this,s--);c>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(u&&r&&(Z.isPlainObject(r)||(o=Z.isArray(r)))?(o?(o=!1,i=n&&Z.isArray(n)?n:[]):i=n&&Z.isPlainObject(n)?n:{},a[t]=Z.extend(u,i,r)):void 0!==r&&(a[t]=r));return a},Z.extend({expando:"jQuery"+(Q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Z.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==Z.type(e)||e.nodeType||Z.isWindow(e)?!1:e.constructor&&!G.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?$[Y.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=Z.trim(e),e&&(1===e.indexOf("use strict")?(t=J.createElement("script"),t.text=e,J.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ne,re)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var o,i=0,a=e.length,s=n(e);if(r){if(s)for(;a>i&&(o=t.apply(e[i],r),o!==!1);i++);else for(i in e)if(o=t.apply(e[i],r),o===!1)break}else if(s)for(;a>i&&(o=t.call(e[i],i,e[i]),o!==!1);i++);else for(i in e)if(o=t.call(e[i],i,e[i]),o===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?Z.merge(r,"string"==typeof e?[e]:e):X.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:V.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;n>r;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r,o=[],i=0,a=e.length,s=!n;a>i;i++)r=!t(e[i],i),r!==s&&o.push(e[i]);return o},map:function(e,t,r){var o,i=0,a=e.length,s=n(e),c=[];if(s)for(;a>i;i++)o=t(e[i],i,r),null!=o&&c.push(o);else for(i in e)o=t(e[i],i,r),null!=o&&c.push(o);return W.apply([],c)},guid:1,proxy:function(e,t){var n,r,o;return"string"==typeof t&&(n=e[t],t=e,e=n),Z.isFunction(e)?(r=U.call(arguments,2),o=function(){return e.apply(t||this,r.concat(U.call(arguments)))},o.guid=e.guid=e.guid||Z.guid++,o):void 0},now:Date.now,support:K}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){$["[object "+t+"]"]=t.toLowerCase()});var oe=function(e){function t(e,t,n,r){var o,i,a,s,c,u,p,f,d,m;if((t?t.ownerDocument||t:I)!==R&&D(t),t=t||R,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&P){if(11!==s&&(o=ve.exec(e)))if(a=o[1]){if(9===s){if(i=t.getElementById(a),!i||!i.parentNode)return n;if(i.id===a)return n.push(i),n}else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(a))&&F(t,i)&&i.id===a)return n.push(i),n}else{if(o[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((a=o[3])&&w.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(a)),n}if(w.qsa&&(!O||!O.test(e))){if(f=p=H,d=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=E(e),(p=t.getAttribute("id"))?f=p.replace(xe,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",c=u.length;c--;)u[c]=f+h(u[c]);d=be.test(e)&&l(t.parentNode)||t,m=u.join(",")}if(m)try{return Q.apply(n,d.querySelectorAll(m)),n}catch(g){}finally{p||t.removeAttribute("id")}}}return S(e.replace(ce,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>k.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[H]=!0,e}function o(e){var t=R.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function i(e,t){for(var n=e.split("|"),r=e.length;r--;)k.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||$)-(~e.sourceIndex||$);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function l(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function p(){}function h(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function f(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=z++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var s,c,u=[_,i];if(a){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if(c=t[H]||(t[H]={}),(s=c[r])&&s[0]===_&&s[1]===i)return u[2]=s[2];if(c[r]=u,u[2]=e(t,n,a))return!0}}}function d(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var o=0,i=n.length;i>o;o++)t(e,n[o],r);return r}function g(e,t,n,r,o){for(var i,a=[],s=0,c=e.length,u=null!=t;c>s;s++)(i=e[s])&&(!n||n(i,r,o))&&(a.push(i),u&&t.push(s));return a}function y(e,t,n,o,i,a){return o&&!o[H]&&(o=y(o)),i&&!i[H]&&(i=y(i,a)),r(function(r,a,s,c){var u,l,p,h=[],f=[],d=a.length,y=r||m(t||"*",s.nodeType?[s]:s,[]),v=!e||!r&&t?y:g(y,h,e,s,c),b=n?i||(r?e:d||o)?[]:a:v;if(n&&n(v,b,s,c),o)for(u=g(b,f),o(u,[],s,c),l=u.length;l--;)(p=u[l])&&(b[f[l]]=!(v[f[l]]=p));if(r){if(i||e){if(i){for(u=[],l=b.length;l--;)(p=b[l])&&u.push(v[l]=p);i(null,b=[],u,c)}for(l=b.length;l--;)(p=b[l])&&(u=i?ee(r,p):h[l])>-1&&(r[u]=!(a[u]=p))}}else b=g(b===a?b.splice(d,b.length):b),i?i(null,a,b,c):Q.apply(a,b)})}function v(e){for(var t,n,r,o=e.length,i=k.relative[e[0].type],a=i||k.relative[" "],s=i?1:0,c=f(function(e){return e===t},a,!0),u=f(function(e){return ee(t,e)>-1},a,!0),l=[function(e,n,r){var o=!i&&(r||n!==j)||((t=n).nodeType?c(e,n,r):u(e,n,r));return t=null,o}];o>s;s++)if(n=k.relative[e[s].type])l=[f(d(l),n)];else{if(n=k.filter[e[s].type].apply(null,e[s].matches),n[H]){for(r=++s;o>r&&!k.relative[e[r].type];r++);return y(s>1&&d(l),s>1&&h(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ce,"$1"),n,r>s&&v(e.slice(s,r)),o>r&&v(e=e.slice(r)),o>r&&h(e))}l.push(n)}return d(l)}function b(e,n){var o=n.length>0,i=e.length>0,a=function(r,a,s,c,u){var l,p,h,f=0,d="0",m=r&&[],y=[],v=j,b=r||i&&k.find.TAG("*",u),x=_+=null==v?1:Math.random()||.1,w=b.length;for(u&&(j=a!==R&&a);d!==w&&null!=(l=b[d]);d++){if(i&&l){for(p=0;h=e[p++];)if(h(l,a,s)){c.push(l);break}u&&(_=x)}o&&((l=!h&&l)&&f--,r&&m.push(l))}if(f+=d,o&&d!==f){for(p=0;h=n[p++];)h(m,y,a,s);if(r){if(f>0)for(;d--;)m[d]||y[d]||(y[d]=K.call(c));y=g(y)}Q.apply(c,y),u&&!r&&y.length>0&&f+n.length>1&&t.uniqueSort(c)}return u&&(_=x,j=v),m};return o?r(a):a}var x,w,k,T,C,E,A,S,j,M,N,D,R,L,P,O,B,q,F,H="sizzle"+1*new Date,I=e.document,_=0,z=0,U=n(),W=n(),X=n(),V=function(e,t){return e===t&&(N=!0),0},$=1<<31,Y={}.hasOwnProperty,G=[],K=G.pop,J=G.push,Q=G.push,Z=G.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe=re.replace("w","w#"),ie="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+oe+"))|)"+ne+"*\\]",ae=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),ce=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),le=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),pe=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(ae),fe=new RegExp("^"+oe+"$"),de={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ye=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,xe=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),ke=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Te=function(){D()};try{Q.apply(G=Z.call(I.childNodes),I.childNodes),G[I.childNodes.length].nodeType}catch(Ce){Q={apply:G.length?function(e,t){J.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},D=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:I;return r!==R&&9===r.nodeType&&r.documentElement?(R=r,L=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Te,!1):n.attachEvent&&n.attachEvent("onunload",Te)),P=!C(r),w.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=o(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ye.test(r.getElementsByClassName),w.getById=o(function(e){return L.appendChild(e).id=H,!r.getElementsByName||!r.getElementsByName(H).length}),w.getById?(k.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&P){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},k.filter.ID=function(e){var t=e.replace(we,ke);return function(e){return e.getAttribute("id")===t}}):(delete k.find.ID,k.filter.ID=function(e){var t=e.replace(we,ke);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),k.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},k.find.CLASS=w.getElementsByClassName&&function(e,t){return P?t.getElementsByClassName(e):void 0},B=[],O=[],(w.qsa=ye.test(r.querySelectorAll))&&(o(function(e){L.appendChild(e).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||O.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+H+"-]").length||O.push("~="),e.querySelectorAll(":checked").length||O.push(":checked"),e.querySelectorAll("a#"+H+"+*").length||O.push(".#.+[+~]")}),o(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&O.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),O.push(",.*:")})),(w.matchesSelector=ye.test(q=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&o(function(e){w.disconnectedMatch=q.call(e,"div"),q.call(e,"[s!='']:x"),B.push("!=",ae)}),O=O.length&&new RegExp(O.join("|")),B=B.length&&new RegExp(B.join("|")),t=ye.test(L.compareDocumentPosition),F=t||ye.test(L.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return N=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===I&&F(I,e)?-1:t===r||t.ownerDocument===I&&F(I,t)?1:M?ee(M,e)-ee(M,t):0:4&n?-1:1)}:function(e,t){if(e===t)return N=!0,0;var n,o=0,i=e.parentNode,s=t.parentNode,c=[e],u=[t];if(!i||!s)return e===r?-1:t===r?1:i?-1:s?1:M?ee(M,e)-ee(M,t):0;if(i===s)return a(e,t);for(n=e;n=n.parentNode;)c.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;c[o]===u[o];)o++;return o?a(c[o],u[o]):c[o]===I?-1:u[o]===I?1:0},r):R},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==R&&D(e),n=n.replace(pe,"='$1']"),!(!w.matchesSelector||!P||B&&B.test(n)||O&&O.test(n)))try{var r=q.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(o){}return t(n,R,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==R&&D(e),F(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==R&&D(e);var n=k.attrHandle[t.toLowerCase()],r=n&&Y.call(k.attrHandle,t.toLowerCase())?n(e,t,!P):void 0;return void 0!==r?r:w.attributes||!P?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,o=0;if(N=!w.detectDuplicates,M=!w.sortStable&&e.slice(0),e.sort(V),N){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return M=null,e},T=t.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=T(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=T(t);return n},k=t.selectors={cacheLength:50,createPseudo:r,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,ke),e[3]=(e[3]||e[4]||e[5]||"").replace(we,ke),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&he.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,ke).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=U[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&U(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(o){var i=t.attr(o,e);return null==i?"!="===n:n?(i+="","="===n?i===r:"!="===n?i!==r:"^="===n?r&&0===i.indexOf(r):"*="===n?r&&i.indexOf(r)>-1:"$="===n?r&&i.slice(-r.length)===r:"~="===n?(" "+i.replace(se," ")+" ").indexOf(r)>-1:"|="===n?i===r||i.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,c){var u,l,p,h,f,d,m=i!==a?"nextSibling":"previousSibling",g=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!c&&!s;if(g){if(i){for(;m;){for(p=t;p=p[m];)if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;d=m="only"===e&&!d&&"nextSibling"}return!0}if(d=[a?g.firstChild:g.lastChild],a&&v){for(l=g[H]||(g[H]={}),u=l[e]||[],f=u[0]===_&&u[1],h=u[0]===_&&u[2],p=f&&g.childNodes[f];p=++f&&p&&p[m]||(h=f=0)||d.pop();)if(1===p.nodeType&&++h&&p===t){l[e]=[_,f,h];break}}else if(v&&(u=(t[H]||(t[H]={}))[e])&&u[0]===_)h=u[1];else for(;(p=++f&&p&&p[m]||(h=f=0)||d.pop())&&((s?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++h||(v&&((p[H]||(p[H]={}))[e]=[_,h]),p!==t)););return h-=o,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,n){var o,i=k.pseudos[e]||k.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return i[H]?i(n):i.length>1?(o=[e,e,"",n],k.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,o=i(e,n),a=o.length;a--;)r=ee(e,o[a]),e[r]=!(t[r]=o[a])}):function(e){return i(e,0,o)}):i}},pseudos:{not:r(function(e){var t=[],n=[],o=A(e.replace(ce,"$1"));return o[H]?r(function(e,t,n,r){for(var i,a=o(e,null,r,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))}):function(e,r,i){return t[0]=e,o(t,null,i,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(we,ke),function(t){return(t.textContent||t.innerText||T(t)).indexOf(e)>-1}}),lang:r(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,ke).toLowerCase(),function(t){var n;do if(n=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},k.pseudos.nth=k.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})k.pseudos[x]=c(x);return p.prototype=k.filters=k.pseudos,k.setFilters=new p,E=t.tokenize=function(e,n){var r,o,i,a,s,c,u,l=W[e+" "];if(l)return n?0:l.slice(0);for(s=e,c=[],u=k.preFilter;s;){(!r||(o=ue.exec(s)))&&(o&&(s=s.slice(o[0].length)||s),c.push(i=[])),r=!1,(o=le.exec(s))&&(r=o.shift(),i.push({value:r,type:o[0].replace(ce," ")}),s=s.slice(r.length));for(a in k.filter)!(o=de[a].exec(s))||u[a]&&!(o=u[a](o))||(r=o.shift(),i.push({value:r,type:a,matches:o}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):W(e,c).slice(0)},A=t.compile=function(e,t){var n,r=[],o=[],i=X[e+" "];if(!i){for(t||(t=E(e)),n=t.length;n--;)i=v(t[n]),i[H]?r.push(i):o.push(i);i=X(e,b(o,r)),i.selector=e}return i},S=t.select=function(e,t,n,r){var o,i,a,s,c,u="function"==typeof e&&e,p=!r&&E(e=u.selector||e);if(n=n||[],1===p.length){if(i=p[0]=p[0].slice(0),i.length>2&&"ID"===(a=i[0]).type&&w.getById&&9===t.nodeType&&P&&k.relative[i[1].type]){if(t=(k.find.ID(a.matches[0].replace(we,ke),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=de.needsContext.test(e)?0:i.length;o--&&(a=i[o],!k.relative[s=a.type]);)if((c=k.find[s])&&(r=c(a.matches[0].replace(we,ke),be.test(i[0].type)&&l(t.parentNode)||t))){if(i.splice(o,1),e=r.length&&h(i),!e)return Q.apply(n,r),n;break}}return(u||A(e,p))(r,t,!P,n,be.test(e)&&l(t.parentNode)||t),n},w.sortStable=H.split("").sort(V).join("")===H,w.detectDuplicates=!!N,D(),w.sortDetached=o(function(e){return 1&e.compareDocumentPosition(R.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||i("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||i(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);Z.find=oe,Z.expr=oe.selectors,Z.expr[":"]=Z.expr.pseudos,
Z.unique=oe.uniqueSort,Z.text=oe.getText,Z.isXMLDoc=oe.isXML,Z.contains=oe.contains;var ie=Z.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;Z.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Z.find.matchesSelector(r,e)?[r]:[]:Z.find.matches(e,Z.grep(t,function(e){return 1===e.nodeType}))},Z.fn.extend({find:function(e){var t,n=this.length,r=[],o=this;if("string"!=typeof e)return this.pushStack(Z(e).filter(function(){for(t=0;n>t;t++)if(Z.contains(o[t],this))return!0}));for(t=0;n>t;t++)Z.find(e,o[t],r);return r=this.pushStack(n>1?Z.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ie.test(e)?Z(e):e||[],!1).length}});var ce,ue=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,le=Z.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ue.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ce).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Z?t[0]:t,Z.merge(this,Z.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:J,!0)),ae.test(n[1])&&Z.isPlainObject(t))for(n in t)Z.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=J.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=J,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Z.isFunction(e)?"undefined"!=typeof ce.ready?ce.ready(e):e(Z):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))};le.prototype=Z.fn,ce=Z(J);var pe=/^(?:parents|prev(?:Until|All))/,he={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&Z(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Z.fn.extend({has:function(e){var t=Z(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(Z.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,o=this.length,i=[],a=ie.test(e)||"string"!=typeof e?Z(e,t||this.context):0;o>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Z.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?Z.unique(i):i)},index:function(e){return e?"string"==typeof e?V.call(Z(e),this[0]):V.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Z.unique(Z.merge(this.get(),Z(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Z.dir(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Z.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Z.dir(e,"previousSibling",n)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(n,r){var o=Z.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=Z.filter(r,o)),this.length>1&&(he[e]||Z.unique(o),pe.test(e)&&o.reverse()),this.pushStack(o)}});var fe=/\S+/g,de={};Z.Callbacks=function(e){e="string"==typeof e?de[e]||i(e):Z.extend({},e);var t,n,r,o,a,s,c=[],u=!e.once&&[],l=function(i){for(t=e.memory&&i,n=!0,s=o||0,o=0,a=c.length,r=!0;c&&a>s;s++)if(c[s].apply(i[0],i[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,c&&(u?u.length&&l(u.shift()):t?c=[]:p.disable())},p={add:function(){if(c){var n=c.length;!function i(t){Z.each(t,function(t,n){var r=Z.type(n);"function"===r?e.unique&&p.has(n)||c.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),r?a=c.length:t&&(o=n,l(t))}return this},remove:function(){return c&&Z.each(arguments,function(e,t){for(var n;(n=Z.inArray(t,c,n))>-1;)c.splice(n,1),r&&(a>=n&&a--,s>=n&&s--)}),this},has:function(e){return e?Z.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],a=0,this},disable:function(){return c=u=t=void 0,this},disabled:function(){return!c},lock:function(){return u=void 0,t||p.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!c||n&&!u||(t=t||[],t=[e,t.slice?t.slice():t],r?u.push(t):l(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!n}};return p},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(n){Z.each(t,function(t,i){var a=Z.isFunction(e[t])&&e[t];o[i[1]](function(){var e=a&&a.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[i[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,r):r}},o={};return r.pipe=r.then,Z.each(t,function(e,i){var a=i[2],s=i[3];r[i[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),o[i[0]]=function(){return o[i[0]+"With"](this===o?r:this,arguments),this},o[i[0]+"With"]=a.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,r,o=0,i=U.call(arguments),a=i.length,s=1!==a||e&&Z.isFunction(e.promise)?a:0,c=1===s?e:Z.Deferred(),u=function(e,n,r){return function(o){n[e]=this,r[e]=arguments.length>1?U.call(arguments):o,r===t?c.notifyWith(n,r):--s||c.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>o;o++)i[o]&&Z.isFunction(i[o].promise)?i[o].promise().done(u(o,r,i)).fail(c.reject).progress(u(o,n,t)):--s;return s||c.resolveWith(r,i),c.promise()}});var me;Z.fn.ready=function(e){return Z.ready.promise().done(e),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){(e===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,e!==!0&&--Z.readyWait>0||(me.resolveWith(J,[Z]),Z.fn.triggerHandler&&(Z(J).triggerHandler("ready"),Z(J).off("ready"))))}}),Z.ready.promise=function(t){return me||(me=Z.Deferred(),"complete"===J.readyState?setTimeout(Z.ready):(J.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1))),me.promise(t)},Z.ready.promise();var ge=Z.access=function(e,t,n,r,o,i,a){var s=0,c=e.length,u=null==n;if("object"===Z.type(n)){o=!0;for(s in n)Z.access(e,t,s,n[s],!0,i,a)}else if(void 0!==r&&(o=!0,Z.isFunction(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(Z(e),n)})),t))for(;c>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return o?e:u?t.call(e):c?t(e[0],n):i};Z.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},s.uid=1,s.accepts=Z.acceptData,s.prototype={key:function(e){if(!s.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=s.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,Z.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,o=this.key(e),i=this.cache[o];if("string"==typeof t)i[t]=n;else if(Z.isEmptyObject(i))Z.extend(this.cache[o],t);else for(r in t)i[r]=t[r];return i},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,Z.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,o,i=this.key(e),a=this.cache[i];if(void 0===t)this.cache[i]={};else{Z.isArray(t)?r=t.concat(t.map(Z.camelCase)):(o=Z.camelCase(t),t in a?r=[t,o]:(r=o,r=r in a?[r]:r.match(fe)||[])),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(e){return!Z.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ye=new s,ve=new s,be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xe=/([A-Z])/g;Z.extend({hasData:function(e){return ve.hasData(e)||ye.hasData(e)},data:function(e,t,n){return ve.access(e,t,n)},removeData:function(e,t){ve.remove(e,t)},_data:function(e,t,n){return ye.access(e,t,n)},_removeData:function(e,t){ye.remove(e,t)}}),Z.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(o=ve.get(i),1===i.nodeType&&!ye.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=Z.camelCase(r.slice(5)),c(i,r,o[r])));ye.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){ve.set(this,e)}):ge(this,function(t){var n,r=Z.camelCase(e);if(i&&void 0===t){if(n=ve.get(i,e),void 0!==n)return n;if(n=ve.get(i,r),void 0!==n)return n;if(n=c(i,r,void 0),void 0!==n)return n}else this.each(function(){var n=ve.get(this,r);ve.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&ve.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ve.remove(this,e)})}}),Z.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ye.get(e,t),n&&(!r||Z.isArray(n)?r=ye.access(e,t,Z.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Z.queue(e,t),r=n.length,o=n.shift(),i=Z._queueHooks(e,t),a=function(){Z.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,a,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ye.get(e,n)||ye.access(e,n,{empty:Z.Callbacks("once memory").add(function(){ye.remove(e,[t+"queue",n])})})}}),Z.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Z.queue(this[0],e):void 0===t?this:this.each(function(){var n=Z.queue(this,e,t);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=Z.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=ye.get(i[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}});var we=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ke=["Top","Right","Bottom","Left"],Te=function(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)},Ce=/^(?:checkbox|radio)$/i;!function(){var e=J.createDocumentFragment(),t=e.appendChild(J.createElement("div")),n=J.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),K.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",K.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Ee="undefined";K.focusinBubbles="onfocusin"in e;var Ae=/^key/,Se=/^(?:mouse|pointer|contextmenu)|click/,je=/^(?:focusinfocus|focusoutblur)$/,Me=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(e,t,n,r,o){var i,a,s,c,u,l,p,h,f,d,m,g=ye.get(e);if(g)for(n.handler&&(i=n,n=i.handler,o=i.selector),n.guid||(n.guid=Z.guid++),(c=g.events)||(c=g.events={}),(a=g.handle)||(a=g.handle=function(t){return typeof Z!==Ee&&Z.event.triggered!==t.type?Z.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(fe)||[""],u=t.length;u--;)s=Me.exec(t[u])||[],f=m=s[1],d=(s[2]||"").split(".").sort(),f&&(p=Z.event.special[f]||{},f=(o?p.delegateType:p.bindType)||f,p=Z.event.special[f]||{},l=Z.extend({type:f,origType:m,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&Z.expr.match.needsContext.test(o),namespace:d.join(".")},i),(h=c[f])||(h=c[f]=[],h.delegateCount=0,p.setup&&p.setup.call(e,r,d,a)!==!1||e.addEventListener&&e.addEventListener(f,a,!1)),p.add&&(p.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,l):h.push(l),Z.event.global[f]=!0)},remove:function(e,t,n,r,o){var i,a,s,c,u,l,p,h,f,d,m,g=ye.hasData(e)&&ye.get(e);if(g&&(c=g.events)){for(t=(t||"").match(fe)||[""],u=t.length;u--;)if(s=Me.exec(t[u])||[],f=m=s[1],d=(s[2]||"").split(".").sort(),f){for(p=Z.event.special[f]||{},f=(r?p.delegateType:p.bindType)||f,h=c[f]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=h.length;i--;)l=h[i],!o&&m!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(h.splice(i,1),l.selector&&h.delegateCount--,p.remove&&p.remove.call(e,l));a&&!h.length&&(p.teardown&&p.teardown.call(e,d,g.handle)!==!1||Z.removeEvent(e,f,g.handle),delete c[f])}else for(f in c)Z.event.remove(e,f+t[u],n,r,!0);Z.isEmptyObject(c)&&(delete g.handle,ye.remove(e,"events"))}},trigger:function(t,n,r,o){var i,a,s,c,u,l,p,h=[r||J],f=G.call(t,"type")?t.type:t,d=G.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||J,3!==r.nodeType&&8!==r.nodeType&&!je.test(f+Z.event.triggered)&&(f.indexOf(".")>=0&&(d=f.split("."),f=d.shift(),d.sort()),u=f.indexOf(":")<0&&"on"+f,t=t[Z.expando]?t:new Z.Event(f,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=d.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:Z.makeArray(n,[t]),p=Z.event.special[f]||{},o||!p.trigger||p.trigger.apply(r,n)!==!1)){if(!o&&!p.noBubble&&!Z.isWindow(r)){for(c=p.delegateType||f,je.test(c+f)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(r.ownerDocument||J)&&h.push(s.defaultView||s.parentWindow||e)}for(i=0;(a=h[i++])&&!t.isPropagationStopped();)t.type=i>1?c:p.bindType||f,l=(ye.get(a,"events")||{})[t.type]&&ye.get(a,"handle"),l&&l.apply(a,n),l=u&&a[u],l&&l.apply&&Z.acceptData(a)&&(t.result=l.apply(a,n),t.result===!1&&t.preventDefault());return t.type=f,o||t.isDefaultPrevented()||p._default&&p._default.apply(h.pop(),n)!==!1||!Z.acceptData(r)||u&&Z.isFunction(r[f])&&!Z.isWindow(r)&&(s=r[u],s&&(r[u]=null),Z.event.triggered=f,r[f](),Z.event.triggered=void 0,s&&(r[u]=s)),t.result}},dispatch:function(e){e=Z.event.fix(e);var t,n,r,o,i,a=[],s=U.call(arguments),c=(ye.get(this,"events")||{})[e.type]||[],u=Z.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=Z.event.handlers.call(this,e,c),t=0;(o=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((Z.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,o,i,a=[],s=t.delegateCount,c=e.target;if(s&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!==this;c=c.parentNode||this)if(c.disabled!==!0||"click"!==e.type){for(r=[],n=0;s>n;n++)i=t[n],o=i.selector+" ",void 0===r[o]&&(r[o]=i.needsContext?Z(o,this).index(c)>=0:Z.find(o,this,null,[c]).length),r[o]&&r.push(i);r.length&&a.push({elem:c,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,o,i=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||J,r=n.documentElement,o=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),e.which||void 0===i||(e.which=1&i?1:2&i?3:4&i?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,n,r,o=e.type,i=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Se.test(o)?this.mouseHooks:Ae.test(o)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new Z.Event(i),t=r.length;t--;)n=r[t],e[n]=i[n];return e.target||(e.target=J),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,i):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==p()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===p()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Z.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Z.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var o=Z.extend(new Z.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?Z.event.trigger(o,null,t):Z.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},Z.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Z.Event=function(e,t){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?u:l):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(e,t)},Z.Event.prototype={isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=u,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=u,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=u,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return(!o||o!==r&&!Z.contains(r,o))&&(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),K.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=ye.access(r,t);o||r.addEventListener(e,n,!0),ye.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=ye.access(r,t)-1;o?ye.access(r,t,o):(r.removeEventListener(e,n,!0),ye.remove(r,t))}}}),Z.fn.extend({on:function(e,t,n,r,o){var i,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(a in e)this.on(a,t,n,e[a],o);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=l;else if(!r)return this;return 1===o&&(i=r,r=function(e){return Z().off(e),i.apply(this,arguments)},r.guid=i.guid||(i.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Z(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=l),this.each(function(){Z.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?Z.event.trigger(e,t,n,!0):void 0}});var Ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,De=/<([\w:]+)/,Re=/<|&#?\w+;/,Le=/<(?:script|style|link)/i,Pe=/checked\s*(?:[^=]|=\s*.checked.)/i,Oe=/^$|\/(?:java|ecma)script/i,Be=/^true\/(.*)/,qe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Fe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Fe.optgroup=Fe.option,Fe.tbody=Fe.tfoot=Fe.colgroup=Fe.caption=Fe.thead,Fe.th=Fe.td,Z.extend({clone:function(e,t,n){var r,o,i,a,s=e.cloneNode(!0),c=Z.contains(e.ownerDocument,e);if(!(K.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(a=y(s),i=y(e),r=0,o=i.length;o>r;r++)v(i[r],a[r]);if(t)if(n)for(i=i||y(e),a=a||y(s),r=0,o=i.length;o>r;r++)g(i[r],a[r]);else g(e,s);return a=y(s,"script"),a.length>0&&m(a,!c&&y(e,"script")),s},buildFragment:function(e,t,n,r){for(var o,i,a,s,c,u,l=t.createDocumentFragment(),p=[],h=0,f=e.length;f>h;h++)if(o=e[h],o||0===o)if("object"===Z.type(o))Z.merge(p,o.nodeType?[o]:o);else if(Re.test(o)){for(i=i||l.appendChild(t.createElement("div")),a=(De.exec(o)||["",""])[1].toLowerCase(),s=Fe[a]||Fe._default,i.innerHTML=s[1]+o.replace(Ne,"<$1></$2>")+s[2],u=s[0];u--;)i=i.lastChild;Z.merge(p,i.childNodes),i=l.firstChild,i.textContent=""}else p.push(t.createTextNode(o));for(l.textContent="",h=0;o=p[h++];)if((!r||-1===Z.inArray(o,r))&&(c=Z.contains(o.ownerDocument,o),i=y(l.appendChild(o),"script"),c&&m(i),n))for(u=0;o=i[u++];)Oe.test(o.type||"")&&n.push(o);return l},cleanData:function(e){for(var t,n,r,o,i=Z.event.special,a=0;void 0!==(n=e[a]);a++){if(Z.acceptData(n)&&(o=n[ye.expando],o&&(t=ye.cache[o]))){if(t.events)for(r in t.events)i[r]?Z.event.remove(n,r):Z.removeEvent(n,r,t.handle);ye.cache[o]&&delete ye.cache[o]}delete ve.cache[n[ve.expando]]}}}),Z.fn.extend({text:function(e){return ge(this,function(e){return void 0===e?Z.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?Z.filter(e,this):this,o=0;null!=(n=r[o]);o++)t||1!==n.nodeType||Z.cleanData(y(n)),n.parentNode&&(t&&Z.contains(n.ownerDocument,n)&&m(y(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Z.cleanData(y(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return ge(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Le.test(e)&&!Fe[(De.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ne,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(Z.cleanData(y(t,!1)),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Z.cleanData(y(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=W.apply([],e);var n,r,o,i,a,s,c=0,u=this.length,l=this,p=u-1,h=e[0],m=Z.isFunction(h);if(m||u>1&&"string"==typeof h&&!K.checkClone&&Pe.test(h))return this.each(function(n){var r=l.eq(n);m&&(e[0]=h.call(this,n,r.html())),r.domManip(e,t)});if(u&&(n=Z.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(o=Z.map(y(n,"script"),f),i=o.length;u>c;c++)a=n,c!==p&&(a=Z.clone(a,!0,!0),i&&Z.merge(o,y(a,"script"))),t.call(this[c],a,c);if(i)for(s=o[o.length-1].ownerDocument,Z.map(o,d),c=0;i>c;c++)a=o[c],Oe.test(a.type||"")&&!ye.access(a,"globalEval")&&Z.contains(s,a)&&(a.src?Z._evalUrl&&Z._evalUrl(a.src):Z.globalEval(a.textContent.replace(qe,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(e){for(var n,r=[],o=Z(e),i=o.length-1,a=0;i>=a;a++)n=a===i?this:this.clone(!0),Z(o[a])[t](n),X.apply(r,n.get());return this.pushStack(r)}});var He,Ie={},_e=/^margin/,ze=new RegExp("^("+we+")(?!px)[a-z%]+$","i"),Ue=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",o.appendChild(i);var t=e.getComputedStyle(a,null);n="1%"!==t.top,r="4px"===t.width,o.removeChild(i)}var n,r,o=J.documentElement,i=J.createElement("div"),a=J.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",K.clearCloneStyle="content-box"===a.style.backgroundClip,i.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",i.appendChild(a),e.getComputedStyle&&Z.extend(K,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},reliableMarginRight:function(){var t,n=a.appendChild(J.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",o.appendChild(i),t=!parseFloat(e.getComputedStyle(n,null).marginRight),o.removeChild(i),a.removeChild(n),t}}))}(),Z.swap=function(e,t,n,r){var o,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];o=n.apply(e,r||[]);for(i in t)e.style[i]=a[i];return o};var We=/^(none|table(?!-c[ea]).+)/,Xe=new RegExp("^("+we+")(.*)$","i"),Ve=new RegExp("^([+-])=("+we+")","i"),$e={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"},Ge=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=w(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,s=Z.camelCase(t),c=e.style;return t=Z.cssProps[s]||(Z.cssProps[s]=T(c,s)),a=Z.cssHooks[t]||Z.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:c[t]:(i=typeof n,"string"===i&&(o=Ve.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(Z.css(e,t)),i="number"),null!=n&&n===n&&("number"!==i||Z.cssNumber[s]||(n+="px"),K.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(c[t]=n)),void 0)}},css:function(e,t,n,r){var o,i,a,s=Z.camelCase(t);return t=Z.cssProps[s]||(Z.cssProps[s]=T(e.style,s)),a=Z.cssHooks[t]||Z.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=w(e,t,r)),"normal"===o&&t in Ye&&(o=Ye[t]),""===n||n?(i=parseFloat(o),n===!0||Z.isNumeric(i)?i||0:o):o}}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,n,r){return n?We.test(Z.css(e,"display"))&&0===e.offsetWidth?Z.swap(e,$e,function(){return A(e,t,r)}):A(e,t,r):void 0},set:function(e,n,r){var o=r&&Ue(e);return C(e,n,r?E(e,t,r,"border-box"===Z.css(e,"boxSizing",!1,o),o):0)}}}),Z.cssHooks.marginRight=k(K.reliableMarginRight,function(e,t){return t?Z.swap(e,{display:"inline-block"},w,[e,"marginRight"]):void 0}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];4>r;r++)o[e+ke[r]+t]=i[r]||i[r-2]||i[0];return o}},_e.test(e)||(Z.cssHooks[e+t].set=C)}),Z.fn.extend({css:function(e,t){return ge(this,function(e,t,n){var r,o,i={},a=0;if(Z.isArray(t)){for(r=Ue(e),o=t.length;o>a;a++)i[t[a]]=Z.css(e,t[a],!1,r);return i}return void 0!==n?Z.style(e,t,n):Z.css(e,t)},e,t,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Te(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=j,j.prototype={constructor:j,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(Z.cssNumber[n]?"":"px")},cur:function(){var e=j.propHooks[this.prop];return e&&e.get?e.get(this):j.propHooks._default.get(this)},run:function(e){var t,n=j.propHooks[this.prop];return this.options.duration?this.pos=t=Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.fx=j.prototype.init,Z.fx.step={};var Ke,Je,Qe=/^(?:toggle|show|hide)$/,Ze=new RegExp("^(?:([+-])=|)("+we+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[R],nt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),o=Ze.exec(t),i=o&&o[3]||(Z.cssNumber[e]?"":"px"),a=(Z.cssNumber[e]||"px"!==i&&+r)&&Ze.exec(Z.css(n.elem,e)),s=1,c=20;if(a&&a[3]!==i){i=i||a[3],o=o||[],a=+r||1;do s=s||".5",a/=s,Z.style(n.elem,e,a+i);while(s!==(s=n.cur()/r)&&1!==s&&--c)}return o&&(a=n.start=+a||+r||0,n.unit=i,n.end=o[1]?a+(o[1]+1)*o[2]:+o[2]),n}]};Z.Animation=Z.extend(P,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,o=e.length;o>r;r++)n=e[r],nt[n]=nt[n]||[],nt[n].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),Z.speed=function(e,t,n){var r=e&&"object"==typeof e?Z.extend({},e):{complete:n||!n&&t||Z.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Z.isFunction(t)&&t};return r.duration=Z.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Z.fx.speeds?Z.fx.speeds[r.duration]:Z.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){Z.isFunction(r.old)&&r.old.call(this),r.queue&&Z.dequeue(this,r.queue)},r},Z.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Te).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=Z.isEmptyObject(e),i=Z.speed(t,n,r),a=function(){var t=P(this,Z.extend({},e),i);(o||ye.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||i.queue===!1?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",i=Z.timers,a=ye.get(this);
if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&et.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));(t||!n)&&Z.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ye.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=Z.timers,a=r?r.length:0;for(n.finish=!0,Z.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),Z.each(["toggle","show","hide"],function(e,t){var n=Z.fn[t];Z.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(N(t,!0),e,r,o)}}),Z.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Z.timers=[],Z.fx.tick=function(){var e,t=0,n=Z.timers;for(Ke=Z.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Z.fx.stop(),Ke=void 0},Z.fx.timer=function(e){Z.timers.push(e),e()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Je||(Je=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Je),Je=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=J.createElement("input"),t=J.createElement("select"),n=t.appendChild(J.createElement("option"));e.type="checkbox",K.checkOn=""!==e.value,K.optSelected=n.selected,t.disabled=!0,K.optDisabled=!n.disabled,e=J.createElement("input"),e.value="t",e.type="radio",K.radioValue="t"===e.value}();var rt,ot,it=Z.expr.attrHandle;Z.fn.extend({attr:function(e,t){return ge(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})}}),Z.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(e&&3!==i&&8!==i&&2!==i)return typeof e.getAttribute===Ee?Z.prop(e,t,n):(1===i&&Z.isXMLDoc(e)||(t=t.toLowerCase(),r=Z.attrHooks[t]||(Z.expr.match.bool.test(t)?ot:rt)),void 0===n?r&&"get"in r&&null!==(o=r.get(e,t))?o:(o=Z.find.attr(e,t),null==o?void 0:o):null!==n?r&&"set"in r&&void 0!==(o=r.set(e,n,t))?o:(e.setAttribute(t,n+""),n):void Z.removeAttr(e,t))},removeAttr:function(e,t){var n,r,o=0,i=t&&t.match(fe);if(i&&1===e.nodeType)for(;n=i[o++];)r=Z.propFix[n]||n,Z.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!K.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),ot={set:function(e,t,n){return t===!1?Z.removeAttr(e,n):e.setAttribute(n,n),n}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(e,t){var n=it[t]||Z.find.attr;it[t]=function(e,t,r){var o,i;return r||(i=it[t],it[t]=o,o=null!=n(e,t,r)?t.toLowerCase():null,it[t]=i),o}});var at=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(e,t){return ge(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Z.propFix[e]||e]})}}),Z.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,o,i,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return i=1!==a||!Z.isXMLDoc(e),i&&(t=Z.propFix[t]||t,o=Z.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||at.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),K.optSelected||(Z.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var st=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(e){var t,n,r,o,i,a,s="string"==typeof e&&e,c=0,u=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(fe)||[];u>c;c++)if(n=this[c],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):" ")){for(i=0;o=t[i++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");a=Z.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,o,i,a,s=0===arguments.length||"string"==typeof e&&e,c=0,u=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(fe)||[];u>c;c++)if(n=this[c],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):"")){for(i=0;o=t[i++];)for(;r.indexOf(" "+o+" ")>=0;)r=r.replace(" "+o+" "," ");a=e?Z.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):Z.isFunction(e)?this.each(function(n){Z(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,o=Z(this),i=e.match(fe)||[];t=i[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(n===Ee||"boolean"===n)&&(this.className&&ye.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ye.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(st," ").indexOf(t)>=0)return!0;return!1}});var ct=/\r/g;Z.fn.extend({val:function(e){var t,n,r,o=this[0];{if(arguments.length)return r=Z.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=r?e.call(this,n,Z(this).val()):e,null==o?o="":"number"==typeof o?o+="":Z.isArray(o)&&(o=Z.map(o,function(e){return null==e?"":e+""})),t=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return t=Z.valHooks[o.type]||Z.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(ct,""):null==n?"":n)}}}),Z.extend({valHooks:{option:{get:function(e){var t=Z.find.attr(e,"value");return null!=t?t:Z.trim(Z.text(e))}},select:{get:function(e){for(var t,n,r=e.options,o=e.selectedIndex,i="select-one"===e.type||0>o,a=i?null:[],s=i?o+1:r.length,c=0>o?s:i?o:0;s>c;c++)if(n=r[c],!(!n.selected&&c!==o||(K.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Z.nodeName(n.parentNode,"optgroup"))){if(t=Z(n).val(),i)return t;a.push(t)}return a},set:function(e,t){for(var n,r,o=e.options,i=Z.makeArray(t),a=o.length;a--;)r=o[a],(r.selected=Z.inArray(r.value,i)>=0)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(e,t){return Z.isArray(t)?e.checked=Z.inArray(Z(e).val(),t)>=0:void 0}},K.checkOn||(Z.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Z.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var ut=Z.now(),lt=/\?/;Z.parseJSON=function(e){return JSON.parse(e+"")},Z.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+e),t};var pt=/#.*$/,ht=/([?&])_=[^&]*/,ft=/^(.*?):[ \t]*([^\r\n]*)$/gm,dt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,mt=/^(?:GET|HEAD)$/,gt=/^\/\//,yt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,vt={},bt={},xt="*/".concat("*"),wt=e.location.href,kt=yt.exec(wt.toLowerCase())||[];Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt,type:"GET",isLocal:dt.test(kt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?q(q(e,Z.ajaxSettings),t):q(Z.ajaxSettings,e)},ajaxPrefilter:O(vt),ajaxTransport:O(bt),ajax:function(e,t){function n(e,t,n,a){var c,l,y,v,x,k=t;2!==b&&(b=2,s&&clearTimeout(s),r=void 0,i=a||"",w.readyState=e>0?4:0,c=e>=200&&300>e||304===e,n&&(v=F(p,w,n)),v=H(p,v,w,c),c?(p.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(Z.lastModified[o]=x),x=w.getResponseHeader("etag"),x&&(Z.etag[o]=x)),204===e||"HEAD"===p.type?k="nocontent":304===e?k="notmodified":(k=v.state,l=v.data,y=v.error,c=!y)):(y=k,(e||!k)&&(k="error",0>e&&(e=0))),w.status=e,w.statusText=(t||k)+"",c?d.resolveWith(h,[l,k,w]):d.rejectWith(h,[w,k,y]),w.statusCode(g),g=void 0,u&&f.trigger(c?"ajaxSuccess":"ajaxError",[w,p,c?l:y]),m.fireWith(h,[w,k]),u&&(f.trigger("ajaxComplete",[w,p]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,o,i,a,s,c,u,l,p=Z.ajaxSetup({},t),h=p.context||p,f=p.context&&(h.nodeType||h.jquery)?Z(h):Z.event,d=Z.Deferred(),m=Z.Callbacks("once memory"),g=p.statusCode||{},y={},v={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!a)for(a={};t=ft.exec(i);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return r&&r.abort(t),n(0,t),this}};if(d.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,p.url=((e||p.url||wt)+"").replace(pt,"").replace(gt,kt[1]+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=Z.trim(p.dataType||"*").toLowerCase().match(fe)||[""],null==p.crossDomain&&(c=yt.exec(p.url.toLowerCase()),p.crossDomain=!(!c||c[1]===kt[1]&&c[2]===kt[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(kt[3]||("http:"===kt[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=Z.param(p.data,p.traditional)),B(vt,p,t,w),2===b)return w;u=Z.event&&p.global,u&&0===Z.active++&&Z.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!mt.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(lt.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=ht.test(o)?o.replace(ht,"$1_="+ut++):o+(lt.test(o)?"&":"?")+"_="+ut++)),p.ifModified&&(Z.lastModified[o]&&w.setRequestHeader("If-Modified-Since",Z.lastModified[o]),Z.etag[o]&&w.setRequestHeader("If-None-Match",Z.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",p.contentType),w.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+xt+"; q=0.01":""):p.accepts["*"]);for(l in p.headers)w.setRequestHeader(l,p.headers[l]);if(p.beforeSend&&(p.beforeSend.call(h,w,p)===!1||2===b))return w.abort();x="abort";for(l in{success:1,error:1,complete:1})w[l](p[l]);if(r=B(bt,p,t,w)){w.readyState=1,u&&f.trigger("ajaxSend",[w,p]),p.async&&p.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},p.timeout));try{b=1,r.send(y,n)}catch(k){if(!(2>b))throw k;n(-1,k)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return Z.get(e,t,n,"json")},getScript:function(e,t){return Z.get(e,void 0,t,"script")}}),Z.each(["get","post"],function(e,t){Z[t]=function(e,n,r,o){return Z.isFunction(n)&&(o=o||r,r=n,n=void 0),Z.ajax({url:e,type:t,dataType:o,data:n,success:r})}}),Z._evalUrl=function(e){return Z.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Z.fn.extend({wrapAll:function(e){var t;return Z.isFunction(e)?this.each(function(t){Z(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Z(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return Z.isFunction(e)?this.each(function(t){Z(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Z(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(n){Z(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)};var Tt=/%20/g,Ct=/\[\]$/,Et=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,St=/^(?:input|select|textarea|keygen)/i;Z.param=function(e,t){var n,r=[],o=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){o(this.name,this.value)});else for(n in e)I(n,e[n],t,o);return r.join("&").replace(Tt,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Z.prop(this,"elements");return e?Z.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Z(this).is(":disabled")&&St.test(this.nodeName)&&!At.test(e)&&(this.checked||!Ce.test(e))}).map(function(e,t){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:n.replace(Et,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var jt=0,Mt={},Nt={0:200,1223:204},Dt=Z.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Mt)Mt[e]()}),K.cors=!!Dt&&"withCredentials"in Dt,K.ajax=Dt=!!Dt,Z.ajaxTransport(function(e){var t;return K.cors||Dt&&!e.crossDomain?{send:function(n,r){var o,i=e.xhr(),a=++jt;if(i.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)i[o]=e.xhrFields[o];e.mimeType&&i.overrideMimeType&&i.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(o in n)i.setRequestHeader(o,n[o]);t=function(e){return function(){t&&(delete Mt[a],t=i.onload=i.onerror=null,"abort"===e?i.abort():"error"===e?r(i.status,i.statusText):r(Nt[i.status]||i.status,i.statusText,"string"==typeof i.responseText?{text:i.responseText}:void 0,i.getAllResponseHeaders()))}},i.onload=t(),i.onerror=t("error"),t=Mt[a]=t("abort");try{i.send(e.hasContent&&e.data||null)}catch(s){if(t)throw s}},abort:function(){t&&t()}}:void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,o){t=Z("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),J.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Rt=[],Lt=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Rt.pop()||Z.expando+"_"+ut++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(t,n,r){var o,i,a,s=t.jsonp!==!1&&(Lt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Lt.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(o=t.jsonpCallback=Z.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Lt,"$1"+o):t.jsonp!==!1&&(t.url+=(lt.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||Z.error(o+" was not called"),a[0]},t.dataTypes[0]="json",i=e[o],e[o]=function(){a=arguments},r.always(function(){e[o]=i,t[o]&&(t.jsonpCallback=n.jsonpCallback,Rt.push(o)),a&&Z.isFunction(i)&&i(a[0]),a=i=void 0}),"script"):void 0}),Z.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||J;var r=ae.exec(e),o=!n&&[];return r?[t.createElement(r[1])]:(r=Z.buildFragment([e],t,o),o&&o.length&&Z(o).remove(),Z.merge([],r.childNodes))};var Pt=Z.fn.load;Z.fn.load=function(e,t,n){if("string"!=typeof e&&Pt)return Pt.apply(this,arguments);var r,o,i,a=this,s=e.indexOf(" ");return s>=0&&(r=Z.trim(e.slice(s)),e=e.slice(0,s)),Z.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&Z.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?Z("<div>").append(Z.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,i||[e.responseText,t,e])}),this},Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length};var Ot=e.document.documentElement;Z.offset={setOffset:function(e,t,n){var r,o,i,a,s,c,u,l=Z.css(e,"position"),p=Z(e),h={};"static"===l&&(e.style.position="relative"),s=p.offset(),i=Z.css(e,"top"),c=Z.css(e,"left"),u=("absolute"===l||"fixed"===l)&&(i+c).indexOf("auto")>-1,u?(r=p.position(),a=r.top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(c)||0),Z.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(h.top=t.top-s.top+a),null!=t.left&&(h.left=t.left-s.left+o),"using"in t?t.using.call(e,h):p.css(h)}},Z.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var t,n,r=this[0],o={top:0,left:0},i=r&&r.ownerDocument;if(i)return t=i.documentElement,Z.contains(t,r)?(typeof r.getBoundingClientRect!==Ee&&(o=r.getBoundingClientRect()),n=_(i),{top:o.top+n.pageYOffset-t.clientTop,left:o.left+n.pageXOffset-t.clientLeft}):o},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===Z.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Z.nodeName(e[0],"html")||(r=e.offset()),r.top+=Z.css(e[0],"borderTopWidth",!0),r.left+=Z.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-Z.css(n,"marginTop",!0),left:t.left-r.left-Z.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Ot;e&&!Z.nodeName(e,"html")&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||Ot})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;Z.fn[t]=function(o){return ge(this,function(t,o,i){var a=_(t);return void 0===i?a?a[n]:t[o]:void(a?a.scrollTo(r?e.pageXOffset:i,r?i:e.pageYOffset):t[o]=i)},t,o,arguments.length,null)}}),Z.each(["top","left"],function(e,t){Z.cssHooks[t]=k(K.pixelPosition,function(e,n){return n?(n=w(e,t),ze.test(n)?Z(e).position()[t]+"px":n):void 0})}),Z.each({Height:"height",Width:"width"},function(e,t){Z.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Z.fn[r]=function(r,o){var i=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||o===!0?"margin":"border");return ge(this,function(t,n,r){var o;return Z.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?Z.css(t,n,a):Z.style(t,n,r,a)},t,i?r:void 0,i,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var Bt=e.jQuery,qt=e.$;return Z.noConflict=function(t){return e.$===Z&&(e.$=qt),t&&e.jQuery===Z&&(e.jQuery=Bt),Z},typeof t===Ee&&(e.jQuery=e.$=Z),Z})},{}],2:[function(e,t,n){t.exports=e("./lib/")},{"./lib/":3}],3:[function(e,t,n){function r(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r=o(e),i=r.source,u=r.id;return t.forceNew||t["force new connection"]||!1===t.multiplex?(s("ignoring socket cache for %s",i),n=a(i,t)):(c[u]||(s("new io instance for %s",i),c[u]=a(i,t)),n=c[u]),n.socket(r.path)}var o=e("./url"),i=e("socket.io-parser"),a=e("./manager"),s=e("debug")("socket.io-client");t.exports=n=r;var c=n.managers={};n.protocol=i.protocol,n.connect=r,n.Manager=e("./manager"),n.Socket=e("./socket")},{"./manager":4,"./socket":6,"./url":7,debug:11,"socket.io-parser":47}],4:[function(e,t,n){function r(e,t){return this instanceof r?(e&&"object"==typeof e&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connected=[],this.encoding=!1,this.packetBuffer=[],this.encoder=new s.Encoder,this.decoder=new s.Decoder,this.autoConnect=t.autoConnect!==!1,void(this.autoConnect&&this.open())):new r(e,t)}var o=(e("./url"),e("engine.io-client")),i=e("./socket"),a=e("component-emitter"),s=e("socket.io-parser"),c=e("./on"),u=e("component-bind"),l=(e("object-component"),e("debug")("socket.io-client:manager")),p=e("indexof"),h=e("backo2");t.exports=r,r.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)this.nsps[e].emit.apply(this.nsps[e],arguments)},r.prototype.updateSocketIds=function(){for(var e in this.nsps)this.nsps[e].id=this.engine.id},a(r.prototype),r.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},r.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},r.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(e){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=o(this.uri,this.opts);var t=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var r=c(t,"open",function(){n.onopen(),e&&e()}),i=c(t,"error",function(t){if(l("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",t),e){var r=new Error("Connection error");r.data=t,e(r)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;l("connect attempt will timeout after %d",a);var s=setTimeout(function(){l("connect attempt timed out after %d",a),r.destroy(),t.close(),t.emit("error","timeout"),n.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(s)}})}return this.subs.push(r),this.subs.push(i),this},r.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(c(e,"data",u(this,"ondata"))),this.subs.push(c(this.decoder,"decoded",u(this,"ondecoded"))),this.subs.push(c(e,"error",u(this,"onerror"))),this.subs.push(c(e,"close",u(this,"onclose")))},r.prototype.ondata=function(e){this.decoder.add(e)},r.prototype.ondecoded=function(e){this.emit("packet",e)},r.prototype.onerror=function(e){l("error",e),this.emitAll("error",e)},r.prototype.socket=function(e){var t=this.nsps[e];if(!t){t=new i(this,e),this.nsps[e]=t;var n=this;t.on("connect",function(){t.id=n.engine.id,~p(n.connected,t)||n.connected.push(t)})}return t},r.prototype.destroy=function(e){var t=p(this.connected,e);~t&&this.connected.splice(t,1),this.connected.length||this.close()},r.prototype.packet=function(e){l("writing packet %j",e);var t=this;t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(e){for(var n=0;n<e.length;n++)t.engine.write(e[n]);t.encoding=!1,t.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},r.prototype.cleanup=function(){for(var e;e=this.subs.shift();)e.destroy();this.packetBuffer=[],this.encoding=!1,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){this.skipReconnect=!0,this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(e){l("close"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();l("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(l("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(l("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(l("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},{"./on":5,"./socket":6,"./url":7,backo2:8,"component-bind":9,"component-emitter":10,debug:11,"engine.io-client":12,indexof:43,"object-component":44,"socket.io-parser":47}],5:[function(e,t,n){function r(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}t.exports=r},{}],6:[function(e,t,n){function r(e,t){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.io.autoConnect&&this.open(),this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0}var o=e("socket.io-parser"),i=e("component-emitter"),a=e("to-array"),s=e("./on"),c=e("component-bind"),u=e("debug")("socket.io-client:socket"),l=e("has-binary");t.exports=n=r;var p={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},h=i.prototype.emit;i(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[s(e,"open",c(this,"onopen")),s(e,"packet",c(this,"onpacket")),s(e,"close",c(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this)},r.prototype.send=function(){var e=a(arguments);return e.unshift("message"),this.emit.apply(this,e),this},r.prototype.emit=function(e){if(p.hasOwnProperty(e))return h.apply(this,arguments),this;var t=a(arguments),n=o.EVENT;l(t)&&(n=o.BINARY_EVENT);var r={type:n,data:t};return"function"==typeof t[t.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),this},r.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},r.prototype.onopen=function(){u("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:o.CONNECT})},r.prototype.onclose=function(e){u("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},r.prototype.onpacket=function(e){if(e.nsp==this.nsp)switch(e.type){case o.CONNECT:this.onconnect();break;case o.EVENT:this.onevent(e);break;case o.BINARY_EVENT:this.onevent(e);break;case o.ACK:this.onack(e);break;case o.BINARY_ACK:this.onack(e);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit("error",e.data)}},r.prototype.onevent=function(e){var t=e.data||[];u("emitting event %j",t),null!=e.id&&(u("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?h.apply(this,t):this.receiveBuffer.push(t)},r.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var r=a(arguments);u("sending ack %j",r);var i=l(r)?o.BINARY_ACK:o.ACK;t.packet({type:i,id:e,data:r})}}},r.prototype.onack=function(e){u("calling ack %s with %j",e.id,e.data);var t=this.acks[e.id];t.apply(this,e.data),delete this.acks[e.id]},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)h.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:o.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{"./on":5,"component-bind":9,"component-emitter":10,debug:11,"has-binary":41,"socket.io-parser":47,"to-array":51}],7:[function(e,t,n){(function(n){function r(e,t){var r=e,t=t||n.location;return null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"==e.charAt(0)&&(e="/"==e.charAt(1)?t.protocol+e:t.hostname+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e="undefined"!=typeof t?t.protocol+"//"+e:"https://"+e),i("parse %s",e),r=o(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/",r.id=r.protocol+"://"+r.host+":"+r.port,r.href=r.protocol+"://"+r.host+(t&&t.port==r.port?"":":"+r.port),r}var o=e("parseuri"),i=e("debug")("socket.io-client:url");t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:11,parseuri:45}],8:[function(e,t,n){function r(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}t.exports=r,r.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(e){this.ms=e},r.prototype.setMax=function(e){
this.max=e},r.prototype.setJitter=function(e){this.jitter=e}},{}],9:[function(e,t,n){var r=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return t.apply(e,n.concat(r.call(arguments)))}}},{}],10:[function(e,t,n){function r(e){return e?o(e):void 0}function o(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){r.off(e,n),t.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===t||r.fn===t){n.splice(o,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var r=0,o=n.length;o>r;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],11:[function(e,t,n){function r(e){return r.enabled(e)?function(t){t=o(t);var n=new Date,i=n-(r[e]||n);r[e]=n,t=e+" "+t+" +"+r.humanize(i),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function o(e){return e instanceof Error?e.stack||e.message:e}t.exports=r,r.names=[],r.skips=[],r.enable=function(e){try{localStorage.debug=e}catch(t){}for(var n=(e||"").split(/[\s,]+/),o=n.length,i=0;o>i;i++)e=n[i].replace("*",".*?"),"-"===e[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$"))},r.disable=function(){r.enable("")},r.humanize=function(e){var t=1e3,n=6e4,r=60*n;return e>=r?(e/r).toFixed(1)+"h":e>=n?(e/n).toFixed(1)+"m":e>=t?(e/t|0)+"s":e+"ms"},r.enabled=function(e){for(var t=0,n=r.skips.length;n>t;t++)if(r.skips[t].test(e))return!1;for(var t=0,n=r.names.length;n>t;t++)if(r.names[t].test(e))return!0;return!1};try{window.localStorage&&r.enable(localStorage.debug)}catch(i){}},{}],12:[function(e,t,n){t.exports=e("./lib/")},{"./lib/":13}],13:[function(e,t,n){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":14,"engine.io-parser":26}],14:[function(e,t,n){(function(n){function r(e,t){if(!(this instanceof r))return new r(e,t);if(t=t||{},e&&"object"==typeof e&&(t=e,e=null),e&&(e=l(e),t.host=e.host,t.secure="https"==e.protocol||"wss"==e.protocol,t.port=e.port,e.query&&(t.query=e.query)),this.secure=null!=t.secure?t.secure:n.location&&"https:"==location.protocol,t.host){var o=t.host.split(":");t.hostname=o.shift(),o.length?t.port=o.pop():t.port||(t.port=this.secure?"443":"80")}this.agent=t.agent||!1,this.hostname=t.hostname||(n.location?location.hostname:"localhost"),this.port=t.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=h.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.callbackBuffer=[],this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=t.rejectUnauthorized||null,this.open()}function o(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var i=e("./transports"),a=e("component-emitter"),s=e("debug")("engine.io-client:socket"),c=e("indexof"),u=e("engine.io-parser"),l=e("parseuri"),p=e("parsejson"),h=e("parseqs");t.exports=r,r.priorWebsocketSuccess=!1,a(r.prototype),r.protocol=u.protocol,r.Socket=r,r.Transport=e("./transport"),r.transports=e("./transports"),r.parser=e("engine.io-parser"),r.prototype.createTransport=function(e){s('creating transport "%s"',e);var t=o(this.query);t.EIO=u.protocol,t.transport=e,this.id&&(t.sid=this.id);var n=new i[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized});return n},r.prototype.open=function(){var e;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))e="websocket";else{if(0==this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";var e;try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},r.prototype.setTransport=function(e){s("setting transport %s",e.name);var t=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},r.prototype.probe=function(e){function t(){if(h.onlyBinaryUpgrades){var t=!this.supportsBinary&&h.transport.supportsBinary;p=p||t}p||(s('probe transport "%s" opened',e),l.send([{type:"ping",data:"probe"}]),l.once("packet",function(t){if(!p)if("pong"==t.type&&"probe"==t.data){if(s('probe transport "%s" pong',e),h.upgrading=!0,h.emit("upgrading",l),!l)return;r.priorWebsocketSuccess="websocket"==l.name,s('pausing current transport "%s"',h.transport.name),h.transport.pause(function(){p||"closed"!=h.readyState&&(s("changing transport and sending upgrade packet"),u(),h.setTransport(l),l.send([{type:"upgrade"}]),h.emit("upgrade",l),l=null,h.upgrading=!1,h.flush())})}else{s('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=l.name,h.emit("upgradeError",n)}}))}function n(){p||(p=!0,u(),l.close(),l=null)}function o(t){var r=new Error("probe error: "+t);r.transport=l.name,n(),s('probe transport "%s" failed because of error: %s',e,t),h.emit("upgradeError",r)}function i(){o("transport closed")}function a(){o("socket closed")}function c(e){l&&e.name!=l.name&&(s('"%s" works - aborting "%s"',e.name,l.name),n())}function u(){l.removeListener("open",t),l.removeListener("error",o),l.removeListener("close",i),h.removeListener("close",a),h.removeListener("upgrading",c)}s('probing transport "%s"',e);var l=this.createTransport(e,{probe:1}),p=!1,h=this;r.priorWebsocketSuccess=!1,l.once("open",t),l.once("error",o),l.once("close",i),this.once("close",a),this.once("upgrading",c),l.open()},r.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",r.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var e=0,t=this.upgrades.length;t>e;e++)this.probe(this.upgrades[e])}},r.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(s('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(p(e.data));break;case"pong":this.setPing();break;case"error":var t=new Error("server error");t.code=e.data,this.emit("error",t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else s('packet received with socket readyState "%s"',this.readyState)},r.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!=t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},r.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){s("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},r.prototype.ping=function(){this.sendPacket("ping")},r.prototype.onDrain=function(){for(var e=0;e<this.prevBufferLen;e++)this.callbackBuffer[e]&&this.callbackBuffer[e]();this.writeBuffer.splice(0,this.prevBufferLen),this.callbackBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0==this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(e,t){return this.sendPacket("message",e,t),this},r.prototype.sendPacket=function(e,t,n){if("closing"!=this.readyState&&"closed"!=this.readyState){var r={type:e,data:t};this.emit("packetCreate",r),this.writeBuffer.push(r),this.callbackBuffer.push(n),this.flush()}},r.prototype.close=function(){function e(){r.onClose("forced close"),s("socket closing - telling transport to close"),r.transport.close()}function t(){r.removeListener("upgrade",t),r.removeListener("upgradeError",t),e()}function n(){r.once("upgrade",t),r.once("upgradeError",t)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},r.prototype.onError=function(e){s("socket error %j",e),r.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},r.prototype.onClose=function(e,t){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){s('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),setTimeout(function(){n.writeBuffer=[],n.callbackBuffer=[],n.prevBufferLen=0},0),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t)}},r.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;r>n;n++)~c(this.transports,e[n])&&t.push(e[n]);return t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":15,"./transports":16,"component-emitter":10,debug:23,"engine.io-parser":26,indexof:43,parsejson:37,parseqs:38,parseuri:39}],15:[function(e,t,n){function r(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized}var o=e("engine.io-parser"),i=e("component-emitter");t.exports=r,i(r.prototype),r.timestamps=0,r.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},r.prototype.open=function(){return("closed"==this.readyState||""==this.readyState)&&(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.doClose(),this.onClose()),this},r.prototype.send=function(e){if("open"!=this.readyState)throw new Error("Transport not open");this.write(e)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(e){var t=o.decodePacket(e,this.socket.binaryType);this.onPacket(t)},r.prototype.onPacket=function(e){this.emit("packet",e)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":10,"engine.io-parser":26}],16:[function(e,t,n){(function(t){function r(e){var n,r=!1,s=!1,c=!1!==e.jsonp;if(t.location){var u="https:"==location.protocol,l=location.port;l||(l=u?443:80),r=e.hostname!=location.hostname||l!=e.port,s=e.secure!=u}if(e.xdomain=r,e.xscheme=s,n=new o(e),"open"in n&&!e.forceJSONP)return new i(e);if(!c)throw new Error("JSONP disabled");return new a(e)}var o=e("xmlhttprequest"),i=e("./polling-xhr"),a=e("./polling-jsonp"),s=e("./websocket");n.polling=r,n.websocket=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":17,"./polling-xhr":18,"./websocket":20,xmlhttprequest:21}],17:[function(e,t,n){(function(n){function r(){}function o(e){i.call(this,e),this.query=this.query||{},s||(n.___eio||(n.___eio=[]),s=n.___eio),this.index=s.length;var t=this;s.push(function(e){t.onData(e)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=r)},!1)}var i=e("./polling"),a=e("component-inherit");t.exports=o;var s,c=/\n/g,u=/\\n/g;a(o,i),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},o.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),this.script=t;var r="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);r&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},o.prototype.doWrite=function(e,t){function n(){r(),t()}function r(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(e){o.onError("jsonp polling iframe removal error",e)}try{var t='<iframe src="javascript:0" name="'+o.iframeId+'">';i=document.createElement(t)}catch(e){i=document.createElement("iframe"),i.name=o.iframeId,i.src="javascript:0"}i.id=o.iframeId,o.form.appendChild(i),o.iframe=i}var o=this;if(!this.form){var i,a=document.createElement("form"),s=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=l,a.method="POST",a.setAttribute("accept-charset","utf-8"),s.name="d",a.appendChild(s),document.body.appendChild(a),this.form=a,this.area=s}this.form.action=this.uri(),r(),e=e.replace(u,"\\\n"),this.area.value=e.replace(c,"\\n");try{this.form.submit()}catch(p){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==o.iframe.readyState&&n()}:this.iframe.onload=n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":19,"component-inherit":22}],18:[function(e,t,n){(function(n){function r(){}function o(e){if(c.call(this,e),n.location){var t="https:"==location.protocol,r=location.port;r||(r=t?443:80),this.xd=e.hostname!=n.location.hostname||r!=e.port,this.xs=e.secure!=t}}function i(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!=e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.create()}function a(){for(var e in i.requests)i.requests.hasOwnProperty(e)&&i.requests[e].abort()}var s=e("xmlhttprequest"),c=e("./polling"),u=e("component-emitter"),l=e("component-inherit"),p=e("debug")("engine.io-client:polling-xhr");t.exports=o,t.exports.Request=i,l(o,c),o.prototype.supportsBinary=!0,o.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,new i(e)},o.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),o=this;r.on("success",t),r.on("error",function(e){o.onError("xhr post error",e)}),this.sendXhr=r},o.prototype.doPoll=function(){p("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},u(i.prototype),i.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new s(e),r=this;try{if(p("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async),this.supportsBinary&&(t.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}"withCredentials"in t&&(t.withCredentials=!0),this.hasXDR()?(t.onload=function(){r.onLoad()},t.onerror=function(){r.onError(t.responseText)}):t.onreadystatechange=function(){4==t.readyState&&(200==t.status||1223==t.status?r.onLoad():setTimeout(function(){r.onError(t.status)},0))},p("xhr data %s",this.data),t.send(this.data)}catch(o){return void setTimeout(function(){r.onError(o)},0)}n.document&&(this.index=i.requestsCount++,i.requests[this.index]=this)},i.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},i.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},i.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},i.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,e)try{this.xhr.abort()}catch(t){}n.document&&delete i.requests[this.index],this.xhr=null}},i.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(n){}e="application/octet-stream"===t?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},i.prototype.hasXDR=function(){return"undefined"!=typeof n.XDomainRequest&&!this.xs&&this.enablesXDR},i.prototype.abort=function(){this.cleanup()},n.document&&(i.requestsCount=0,i.requests={},n.attachEvent?n.attachEvent("onunload",a):n.addEventListener&&n.addEventListener("beforeunload",a,!1))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":19,"component-emitter":10,"component-inherit":22,debug:23,xmlhttprequest:21}],19:[function(e,t,n){function r(e){var t=e&&e.forceBase64;(!u||t)&&(this.supportsBinary=!1),o.call(this,e)}var o=e("../transport"),i=e("parseqs"),a=e("engine.io-parser"),s=e("component-inherit"),c=e("debug")("engine.io-client:polling");t.exports=r;var u=function(){var t=e("xmlhttprequest"),n=new t({xdomain:!1});return null!=n.responseType}();s(r,o),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(e){function t(){c("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(c("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){c("pre-pause polling complete"),--r||t()})),this.writable||(c("we are currently writing - waiting to pause"),r++,this.once("drain",function(){c("pre-pause writing complete"),--r||t()}))}else t()},r.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(e){var t=this;c("polling got data %s",e);var n=function(e,n,r){return"opening"==t.readyState&&t.onOpen(),"close"==e.type?(t.onClose(),!1):void t.onPacket(e)};a.decodePayload(e,this.socket.binaryType,n),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},r.prototype.doClose=function(){function e(){c("writing close packet"),t.write([{type:"close"}])}var t=this;"open"==this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},r.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")},t=this;a.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=+new Date+"-"+o.timestamps++),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"==t&&443!=this.port||"http"==t&&80!=this.port)&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+this.hostname+n+this.path+e}},{"../transport":15,"component-inherit":22,debug:23,"engine.io-parser":26,parseqs:38,xmlhttprequest:21}],20:[function(e,t,n){function r(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),o.call(this,e)}var o=e("../transport"),i=e("engine.io-parser"),a=e("parseqs"),s=e("component-inherit"),c=e("debug")("engine.io-client:websocket"),u=e("ws");t.exports=r,s(r,o),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=void 0,n={agent:this.agent};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.ws=new u(e,t,n),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(r.prototype.onData=function(e){var t=this;setTimeout(function(){o.prototype.onData.call(t,e)},0)}),r.prototype.write=function(e){function t(){n.writable=!0,n.emit("drain")}var n=this;this.writable=!1;for(var r=0,o=e.length;o>r;r++)i.encodePacket(e[r],this.supportsBinary,function(e){try{n.ws.send(e)}catch(t){c("websocket closed before onclose event")}});setTimeout(t,0)},r.prototype.onClose=function(){o.prototype.onClose.call(this)},r.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"==t&&443!=this.port||"ws"==t&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=+new Date),this.supportsBinary||(e.b64=1),e=a.encode(e),e.length&&(e="?"+e),t+"://"+this.hostname+n+this.path+e},r.prototype.check=function(){return!(!u||"__initialize"in u&&this.name===r.prototype.name)}},{"../transport":15,"component-inherit":22,debug:23,"engine.io-parser":26,parseqs:38,ws:40}],21:[function(e,t,n){var r=e("has-cors");t.exports=function(e){var t=e.xdomain,n=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(i){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(i){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(i){}}},{"has-cors":35}],22:[function(e,t,n){t.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],23:[function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r),e}function i(){return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?localStorage.removeItem("debug"):localStorage.debug=e}catch(t){}}function s(){var e;try{e=localStorage.debug}catch(t){}return e}n=t.exports=e("./debug"),n.log=i,n.formatArgs=o,n.save=a,n.load=s,n.useColors=r,n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(s())},{"./debug":24}],24:[function(e,t,n){function r(){return n.colors[l++%n.colors.length]}function o(e){function t(){}function o(){var e=o,t=+new Date,i=t-(u||t);e.diff=i,e.prev=u,e.curr=t,u=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());var a=Array.prototype.slice.call(arguments);a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(t,r){if("%"===t)return t;s++;var o=n.formatters[r];if("function"==typeof o){var i=a[s];t=o.call(e,i),a.splice(s,1),s--}return t}),"function"==typeof n.formatArgs&&(a=n.formatArgs.apply(e,a));var c=o.log||n.log||console.log.bind(console);c.apply(e,a)}t.enabled=!1,o.enabled=!0;var i=n.enabled(e)?o:t;return i.namespace=e,i}function i(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,o=0;r>o;o++)t[o]&&(e=t[o].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function a(){n.enable("")}function s(e){var t,r;for(t=0,r=n.skips.length;r>t;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;r>t;t++)if(n.names[t].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=o,n.coerce=c,n.disable=a,n.enable=i,n.enabled=s,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var u,l=0},{ms:25}],25:[function(e,t,n){function r(e){var t=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"y":return n*p;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"h":return n*u;case"minutes":case"minute":case"m":return n*c;case"seconds":case"second":case"s":return n*s;case"ms":return n}}}function o(e){return e>=l?Math.round(e/l)+"d":e>=u?Math.round(e/u)+"h":e>=c?Math.round(e/c)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function i(e){return a(e,l,"day")||a(e,u,"hour")||a(e,c,"minute")||a(e,s,"second")||e+" ms"}function a(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var s=1e3,c=60*s,u=60*c,l=24*u,p=365.25*l;t.exports=function(e,t){return t=t||{},"string"==typeof e?r(e):t["long"]?i(e):o(e)}},{}],26:[function(e,t,n){(function(t){function r(e,t){var r="b"+n.packets[e.type]+e.data.data;return t(r)}function o(e,t,r){if(!t)return n.encodeBase64Packet(e,r);var o=e.data,i=new Uint8Array(o),a=new Uint8Array(1+o.byteLength);a[0]=y[e.type];for(var s=0;s<i.length;s++)a[s+1]=i[s];return r(a.buffer)}function i(e,t,r){if(!t)return n.encodeBase64Packet(e,r);var o=new FileReader;return o.onload=function(){e.data=o.result,n.encodePacket(e,t,!0,r)},o.readAsArrayBuffer(e.data)}function a(e,t,r){if(!t)return n.encodeBase64Packet(e,r);if(g)return i(e,t,r);var o=new Uint8Array(1);o[0]=y[e.type];var a=new x([o.buffer,e.data]);return r(a)}function s(e,t,n){for(var r=new Array(e.length),o=h(e.length,n),i=function(e,n,o){t(n,function(t,n){r[e]=n,o(t,r)})},a=0;a<e.length;a++)i(a,e[a],o)}var c=e("./keys"),u=e("has-binary"),l=e("arraybuffer.slice"),p=e("base64-arraybuffer"),h=e("after"),f=e("utf8"),d=navigator.userAgent.match(/Android/i),m=/PhantomJS/i.test(navigator.userAgent),g=d||m;n.protocol=3;var y=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},v=c(y),b={type:"error",data:"parser error"},x=e("blob");n.encodePacket=function(e,n,i,s){"function"==typeof n&&(s=n,n=!1),"function"==typeof i&&(s=i,i=null);var c=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&c instanceof ArrayBuffer)return o(e,n,s);if(x&&c instanceof t.Blob)return a(e,n,s);if(c&&c.base64)return r(e,s);var u=y[e.type];return void 0!==e.data&&(u+=i?f.encode(String(e.data)):String(e.data)),s(""+u)},n.encodeBase64Packet=function(e,r){var o="b"+n.packets[e.type];if(x&&e.data instanceof x){var i=new FileReader;return i.onload=function(){var e=i.result.split(",")[1];r(o+e)},i.readAsDataURL(e.data)}var a;try{a=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(s){for(var c=new Uint8Array(e.data),u=new Array(c.length),l=0;l<c.length;l++)u[l]=c[l];a=String.fromCharCode.apply(null,u)}return o+=t.btoa(a),r(o)},n.decodePacket=function(e,t,r){if("string"==typeof e||void 0===e){if("b"==e.charAt(0))return n.decodeBase64Packet(e.substr(1),t);if(r)try{e=f.decode(e)}catch(o){return b}var i=e.charAt(0);return Number(i)==i&&v[i]?e.length>1?{type:v[i],data:e.substring(1)}:{type:v[i]}:b}var a=new Uint8Array(e),i=a[0],s=l(e,1);return x&&"blob"===t&&(s=new x([s])),{type:v[i],data:s}},n.decodeBase64Packet=function(e,n){var r=v[e.charAt(0)];if(!t.ArrayBuffer)return{type:r,data:{base64:!0,data:e.substr(1)}};var o=p.decode(e.substr(1));return"blob"===n&&x&&(o=new x([o])),{type:r,data:o}},n.encodePayload=function(e,t,r){function o(e){return e.length+":"+e}function i(e,r){n.encodePacket(e,a?t:!1,!0,function(e){r(null,o(e))})}"function"==typeof t&&(r=t,t=null);var a=u(e);return t&&a?x&&!g?n.encodePayloadAsBlob(e,r):n.encodePayloadAsArrayBuffer(e,r):e.length?void s(e,i,function(e,t){return r(t.join(""))}):r("0:")},n.decodePayload=function(e,t,r){if("string"!=typeof e)return n.decodePayloadAsBinary(e,t,r);"function"==typeof t&&(r=t,t=null);var o;if(""==e)return r(b,0,1);for(var i,a,s="",c=0,u=e.length;u>c;c++){var l=e.charAt(c);if(":"!=l)s+=l;else{if(""==s||s!=(i=Number(s)))return r(b,0,1);if(a=e.substr(c+1,i),s!=a.length)return r(b,0,1);if(a.length){if(o=n.decodePacket(a,t,!0),b.type==o.type&&b.data==o.data)return r(b,0,1);var p=r(o,c+i,u);if(!1===p)return}c+=i,s=""}}return""!=s?r(b,0,1):void 0},n.encodePayloadAsArrayBuffer=function(e,t){function r(e,t){n.encodePacket(e,!0,!0,function(e){return t(null,e)})}return e.length?void s(e,r,function(e,n){var r=n.reduce(function(e,t){var n;return n="string"==typeof t?t.length:t.byteLength,e+n.toString().length+n+2},0),o=new Uint8Array(r),i=0;return n.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),a=0;a<e.length;a++)r[a]=e.charCodeAt(a);
n=r.buffer}t?o[i++]=0:o[i++]=1;for(var s=n.byteLength.toString(),a=0;a<s.length;a++)o[i++]=parseInt(s[a]);o[i++]=255;for(var r=new Uint8Array(n),a=0;a<r.length;a++)o[i++]=r[a]}),t(o.buffer)}):t(new ArrayBuffer(0))},n.encodePayloadAsBlob=function(e,t){function r(e,t){n.encodePacket(e,!0,!0,function(e){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),o=0;o<e.length;o++)r[o]=e.charCodeAt(o);e=r.buffer,n[0]=0}for(var i=e instanceof ArrayBuffer?e.byteLength:e.size,a=i.toString(),s=new Uint8Array(a.length+1),o=0;o<a.length;o++)s[o]=parseInt(a[o]);if(s[a.length]=255,x){var c=new x([n.buffer,s.buffer,e]);t(null,c)}})}s(e,r,function(e,n){return t(new x(n))})},n.decodePayloadAsBinary=function(e,t,r){"function"==typeof t&&(r=t,t=null);for(var o=e,i=[],a=!1;o.byteLength>0;){for(var s=new Uint8Array(o),c=0===s[0],u="",p=1;255!=s[p];p++){if(u.length>310){a=!0;break}u+=s[p]}if(a)return r(b,0,1);o=l(o,2+u.length),u=parseInt(u);var h=l(o,0,u);if(c)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(f){var d=new Uint8Array(h);h="";for(var p=0;p<d.length;p++)h+=String.fromCharCode(d[p])}i.push(h),o=l(o,u)}var m=i.length;i.forEach(function(e,o){r(n.decodePacket(e,t,!0),o,m)})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":27,after:28,"arraybuffer.slice":29,"base64-arraybuffer":30,blob:31,"has-binary":32,utf8:34}],27:[function(e,t,n){t.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},{}],28:[function(e,t,n){function r(e,t,n){function r(e,o){if(r.count<=0)throw new Error("after called too many times");--r.count,e?(i=!0,t(e),t=n):0!==r.count||i||t(null,o)}var i=!1;return n=n||o,r.count=e,0===e?t():r}function o(){}t.exports=r},{}],29:[function(e,t,n){t.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(0>t&&(t+=r),0>n&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var o=new Uint8Array(e),i=new Uint8Array(n-t),a=t,s=0;n>a;a++,s++)i[s]=o[a];return i.buffer}},{}],30:[function(e,t,n){!function(e){"use strict";n.encode=function(t){var n,r=new Uint8Array(t),o=r.length,i="";for(n=0;o>n;n+=3)i+=e[r[n]>>2],i+=e[(3&r[n])<<4|r[n+1]>>4],i+=e[(15&r[n+1])<<2|r[n+2]>>6],i+=e[63&r[n+2]];return o%3===2?i=i.substring(0,i.length-1)+"=":o%3===1&&(i=i.substring(0,i.length-2)+"=="),i},n.decode=function(t){var n,r,o,i,a,s=.75*t.length,c=t.length,u=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var l=new ArrayBuffer(s),p=new Uint8Array(l);for(n=0;c>n;n+=4)r=e.indexOf(t[n]),o=e.indexOf(t[n+1]),i=e.indexOf(t[n+2]),a=e.indexOf(t[n+3]),p[u++]=r<<2|o>>4,p[u++]=(15&o)<<4|i>>2,p[u++]=(3&i)<<6|63&a;return l}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],31:[function(e,t,n){(function(e){function n(e,t){t=t||{};for(var n=new r,o=0;o<e.length;o++)n.append(e[o]);return t.type?n.getBlob(t.type):n.getBlob()}var r=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,o=function(){try{var e=new Blob(["hi"]);return 2==e.size}catch(t){return!1}}(),i=r&&r.prototype.append&&r.prototype.getBlob;t.exports=function(){return o?e.Blob:i?n:void 0}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],32:[function(e,t,n){(function(n){function r(e){function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(o(e)){for(var r=0;r<e.length;r++)if(t(e[r]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var i in e)if(e.hasOwnProperty(i)&&t(e[i]))return!0}return!1}return t(e)}var o=e("isarray");t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:33}],33:[function(e,t,n){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],34:[function(e,t,n){(function(e){!function(r){function o(e){for(var t,n,r=[],o=0,i=e.length;i>o;)t=e.charCodeAt(o++),t>=55296&&56319>=t&&i>o?(n=e.charCodeAt(o++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--)):r.push(t);return r}function i(e){for(var t,n=e.length,r=-1,o="";++r<n;)t=e[r],t>65535&&(t-=65536,o+=v(t>>>10&1023|55296),t=56320|1023&t),o+=v(t);return o}function a(e,t){return v(e>>t&63|128)}function s(e){if(0==(4294967168&e))return v(e);var t="";return 0==(4294965248&e)?t=v(e>>6&31|192):0==(4294901760&e)?(t=v(e>>12&15|224),t+=a(e,6)):0==(4292870144&e)&&(t=v(e>>18&7|240),t+=a(e,12),t+=a(e,6)),t+=v(63&e|128)}function c(e){for(var t,n=o(e),r=n.length,i=-1,a="";++i<r;)t=n[i],a+=s(t);return a}function u(){if(y>=g)throw Error("Invalid byte index");var e=255&m[y];if(y++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function l(){var e,t,n,r,o;if(y>g)throw Error("Invalid byte index");if(y==g)return!1;if(e=255&m[y],y++,0==(128&e))return e;if(192==(224&e)){var t=u();if(o=(31&e)<<6|t,o>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=u(),n=u(),o=(15&e)<<12|t<<6|n,o>=2048)return o;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=u(),n=u(),r=u(),o=(15&e)<<18|t<<12|n<<6|r,o>=65536&&1114111>=o))return o;throw Error("Invalid UTF-8 detected")}function p(e){m=o(e),g=m.length,y=0;for(var t,n=[];(t=l())!==!1;)n.push(t);return i(n)}var h="object"==typeof n&&n,f="object"==typeof t&&t&&t.exports==h&&t,d="object"==typeof e&&e;(d.global===d||d.window===d)&&(r=d);var m,g,y,v=String.fromCharCode,b={version:"2.0.0",encode:c,decode:p};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return b});else if(h&&!h.nodeType)if(f)f.exports=b;else{var x={},w=x.hasOwnProperty;for(var k in b)w.call(b,k)&&(h[k]=b[k])}else r.utf8=b}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],35:[function(e,t,n){var r=e("global");try{t.exports="XMLHttpRequest"in r&&"withCredentials"in new r.XMLHttpRequest}catch(o){t.exports=!1}},{global:36}],36:[function(e,t,n){t.exports=function(){return this}()},{}],37:[function(e,t,n){(function(e){var n=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,i=/(?:^|:|,)(?:\s*\[)+/g,a=/^\s+/,s=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(a,"").replace(s,""),e.JSON&&JSON.parse?JSON.parse(t):n.test(t.replace(r,"@").replace(o,"]").replace(i,""))?new Function("return "+t)():void 0):null}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],38:[function(e,t,n){n.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},n.decode=function(e){for(var t={},n=e.split("&"),r=0,o=n.length;o>r;r++){var i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}},{}],39:[function(e,t,n){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,n=e.indexOf("["),i=e.indexOf("]");-1!=n&&-1!=i&&(e=e.substring(0,n)+e.substring(n,i).replace(/:/g,";")+e.substring(i,e.length));for(var a=r.exec(e||""),s={},c=14;c--;)s[o[c]]=a[c]||"";return-1!=n&&-1!=i&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},{}],40:[function(e,t,n){function r(e,t,n){var r;return r=t?new i(e,t):new i(e)}var o=function(){return this}(),i=o.WebSocket||o.MozWebSocket;t.exports=i?r:null,i&&(r.prototype=i.prototype)},{}],41:[function(e,t,n){(function(n){function r(e){function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(o(e)){for(var r=0;r<e.length;r++)if(t(e[r]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t(e[i]))return!0}return!1}return t(e)}var o=e("isarray");t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:42}],42:[function(e,t,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],43:[function(e,t,n){var r=[].indexOf;t.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],44:[function(e,t,n){var r=Object.prototype.hasOwnProperty;n.keys=Object.keys||function(e){var t=[];for(var n in e)r.call(e,n)&&t.push(n);return t},n.values=function(e){var t=[];for(var n in e)r.call(e,n)&&t.push(e[n]);return t},n.merge=function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);return e},n.length=function(e){return n.keys(e).length},n.isEmpty=function(e){return 0==n.length(e)}},{}],45:[function(e,t,n){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){for(var t=r.exec(e||""),n={},i=14;i--;)n[o[i]]=t[i]||"";return n}},{}],46:[function(e,t,n){(function(t){var r=e("isarray"),o=e("./is-buffer");n.deconstructPacket=function(e){function t(e){if(!e)return e;if(o(e)){var i={_placeholder:!0,num:n.length};return n.push(e),i}if(r(e)){for(var a=new Array(e.length),s=0;s<e.length;s++)a[s]=t(e[s]);return a}if("object"==typeof e&&!(e instanceof Date)){var a={};for(var c in e)a[c]=t(e[c]);return a}return e}var n=[],i=e.data,a=e;return a.data=t(i),a.attachments=n.length,{packet:a,buffers:n}},n.reconstructPacket=function(e,t){function n(e){if(e&&e._placeholder){var o=t[e.num];return o}if(r(e)){for(var i=0;i<e.length;i++)e[i]=n(e[i]);return e}if(e&&"object"==typeof e){for(var a in e)e[a]=n(e[a]);return e}return e}return e.data=n(e.data),e.attachments=void 0,e},n.removeBlobs=function(e,n){function i(e,c,u){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){a++;var l=new FileReader;l.onload=function(){u?u[c]=this.result:s=this.result,--a||n(s)},l.readAsArrayBuffer(e)}else if(r(e))for(var p=0;p<e.length;p++)i(e[p],p,e);else if(e&&"object"==typeof e&&!o(e))for(var h in e)i(e[h],h,e)}var a=0,s=e;i(s),a||n(s)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":48,isarray:49}],47:[function(e,t,n){function r(){}function o(e){var t="",r=!1;return t+=e.type,(n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type)&&(t+=e.attachments,t+="-"),e.nsp&&"/"!=e.nsp&&(r=!0,t+=e.nsp),null!=e.id&&(r&&(t+=",",r=!1),t+=e.id),null!=e.data&&(r&&(t+=","),t+=p.stringify(e.data)),l("encoded %j as %s",e,t),t}function i(e,t){function n(e){var n=f.deconstructPacket(e),r=o(n.packet),i=n.buffers;i.unshift(r),t(i)}f.removeBlobs(e,n)}function a(){this.reconstructor=null}function s(e){var t={},r=0;if(t.type=Number(e.charAt(0)),null==n.types[t.type])return u();if(n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type){for(var o="";"-"!=e.charAt(++r)&&(o+=e.charAt(r),r+1!=e.length););if(o!=Number(o)||"-"!=e.charAt(r))throw new Error("Illegal attachments");t.attachments=Number(o)}if("/"==e.charAt(r+1))for(t.nsp="";++r;){var i=e.charAt(r);if(","==i)break;if(t.nsp+=i,r+1==e.length)break}else t.nsp="/";var a=e.charAt(r+1);if(""!==a&&Number(a)==a){for(t.id="";++r;){var i=e.charAt(r);if(null==i||Number(i)!=i){--r;break}if(t.id+=e.charAt(r),r+1==e.length)break}t.id=Number(t.id)}if(e.charAt(++r))try{t.data=p.parse(e.substr(r))}catch(s){return u()}return l("decoded %s as %j",e,t),t}function c(e){this.reconPack=e,this.buffers=[]}function u(e){return{type:n.ERROR,data:"parser error"}}var l=e("debug")("socket.io-parser"),p=e("json3"),h=(e("isarray"),e("component-emitter")),f=e("./binary"),d=e("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=r,n.Decoder=a,r.prototype.encode=function(e,t){if(l("encoding packet %j",e),n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type)i(e,t);else{var r=o(e);t([r])}},h(a.prototype),a.prototype.add=function(e){var t;if("string"==typeof e)t=s(e),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type?(this.reconstructor=new c(t),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!d(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,this.emit("decoded",t))}},a.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},c.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=f.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},c.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":46,"./is-buffer":48,"component-emitter":10,debug:11,isarray:49,json3:50}],48:[function(e,t,n){(function(e){function n(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(e,t,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],50:[function(e,t,n){!function(e){function t(e){if(t[e]!==i)return t[e];var n;if("bug-string-char-index"==e)n="a"!="a"[0];else if("json"==e)n=t("json-stringify")&&t("json-parse");else{var r,o='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var s=u.stringify,c="function"==typeof s&&l;if(c){(r=function(){return 1}).toJSON=r;try{c="0"===s(0)&&"0"===s(new Number)&&'""'==s(new String)&&s(a)===i&&s(i)===i&&s()===i&&"1"===s(r)&&"[1]"==s([r])&&"[null]"==s([i])&&"null"==s(null)&&"[null,null,null]"==s([i,a,null])&&s({a:[r,!0,!1,null,"\x00\b\n\f\r	"]})==o&&"1"===s(null,r)&&"[\n 1,\n 2\n]"==s([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==s(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==s(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==s(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==s(new Date(-1))}catch(p){c=!1}}n=c}if("json-parse"==e){var h=u.parse;if("function"==typeof h)try{if(0===h("0")&&!h(!1)){r=h(o);var f=5==r.a.length&&1===r.a[0];if(f){try{f=!h('"	"')}catch(p){}if(f)try{f=1!==h("01")}catch(p){}if(f)try{f=1!==h("1.")}catch(p){}}}}catch(p){f=!1}n=f}}return t[e]=!!n}var r,o,i,a={}.toString,s="function"==typeof define&&define.amd,c="object"==typeof JSON&&JSON,u="object"==typeof n&&n&&!n.nodeType&&n;u&&c?(u.stringify=c.stringify,u.parse=c.parse):u=e.JSON=c||{};var l=new Date(-0xc782b5b800cec);try{l=-109252==l.getUTCFullYear()&&0===l.getUTCMonth()&&1===l.getUTCDate()&&10==l.getUTCHours()&&37==l.getUTCMinutes()&&6==l.getUTCSeconds()&&708==l.getUTCMilliseconds()}catch(p){}if(!t("json")){var h="[object Function]",f="[object Date]",d="[object Number]",m="[object String]",g="[object Array]",y="[object Boolean]",v=t("bug-string-char-index");if(!l)var b=Math.floor,x=[0,31,59,90,120,151,181,212,243,273,304,334],w=function(e,t){return x[t]+365*(e-1970)+b((e-1969+(t=+(t>1)))/4)-b((e-1901+t)/100)+b((e-1601+t)/400)};(r={}.hasOwnProperty)||(r=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=a?r=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,r=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,r.call(this,e)});var k={"boolean":1,number:1,string:1,undefined:1},T=function(e,t){var n=typeof e[t];return"object"==n?!!e[t]:!k[n]};if(o=function(e,t){var n,i,s,c=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,i=new n;for(s in i)r.call(i,s)&&c++;return n=i=null,c?o=2==c?function(e,t){var n,o={},i=a.call(e)==h;for(n in e)i&&"prototype"==n||r.call(o,n)||!(o[n]=1)||!r.call(e,n)||t(n)}:function(e,t){var n,o,i=a.call(e)==h;for(n in e)i&&"prototype"==n||!r.call(e,n)||(o="constructor"===n)||t(n);(o||r.call(e,n="constructor"))&&t(n)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],o=function(e,t){var n,o,s=a.call(e)==h,c=!s&&"function"!=typeof e.constructor&&T(e,"hasOwnProperty")?e.hasOwnProperty:r;for(n in e)s&&"prototype"==n||!c.call(e,n)||t(n);for(o=i.length;n=i[--o];c.call(e,n)&&t(n));}),o(e,t)},!t("json-stringify")){var C={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},E="000000",A=function(e,t){return(E+(t||0)).slice(-e)},S="\\u00",j=function(e){var t,n='"',r=0,o=e.length,i=o>10&&v;for(i&&(t=e.split(""));o>r;r++){var a=e.charCodeAt(r);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:n+=C[a];break;default:if(32>a){n+=S+A(2,a.toString(16));break}n+=i?t[r]:v?e.charAt(r):e[r]}}return n+'"'},M=function(e,t,n,s,c,u,l){var p,h,v,x,k,T,C,E,S,N,D,R,L,P,O,B;try{p=t[e]}catch(q){}if("object"==typeof p&&p)if(h=a.call(p),h!=f||r.call(p,"toJSON"))"function"==typeof p.toJSON&&(h!=d&&h!=m&&h!=g||r.call(p,"toJSON"))&&(p=p.toJSON(e));else if(p>-1/0&&1/0>p){if(w){for(k=b(p/864e5),v=b(k/365.2425)+1970-1;w(v+1,0)<=k;v++);for(x=b((k-w(v,0))/30.42);w(v,x+1)<=k;x++);k=1+k-w(v,x),T=(p%864e5+864e5)%864e5,C=b(T/36e5)%24,E=b(T/6e4)%60,S=b(T/1e3)%60,N=T%1e3}else v=p.getUTCFullYear(),x=p.getUTCMonth(),k=p.getUTCDate(),C=p.getUTCHours(),E=p.getUTCMinutes(),S=p.getUTCSeconds(),N=p.getUTCMilliseconds();p=(0>=v||v>=1e4?(0>v?"-":"+")+A(6,0>v?-v:v):A(4,v))+"-"+A(2,x+1)+"-"+A(2,k)+"T"+A(2,C)+":"+A(2,E)+":"+A(2,S)+"."+A(3,N)+"Z"}else p=null;if(n&&(p=n.call(t,e,p)),null===p)return"null";if(h=a.call(p),h==y)return""+p;if(h==d)return p>-1/0&&1/0>p?""+p:"null";if(h==m)return j(""+p);if("object"==typeof p){for(P=l.length;P--;)if(l[P]===p)throw TypeError();if(l.push(p),D=[],O=u,u+=c,h==g){for(L=0,P=p.length;P>L;L++)R=M(L,p,n,s,c,u,l),D.push(R===i?"null":R);B=D.length?c?"[\n"+u+D.join(",\n"+u)+"\n"+O+"]":"["+D.join(",")+"]":"[]"}else o(s||p,function(e){var t=M(e,p,n,s,c,u,l);t!==i&&D.push(j(e)+":"+(c?" ":"")+t)}),B=D.length?c?"{\n"+u+D.join(",\n"+u)+"\n"+O+"}":"{"+D.join(",")+"}":"{}";return l.pop(),B}};u.stringify=function(e,t,n){var r,o,i,s;if("function"==typeof t||"object"==typeof t&&t)if((s=a.call(t))==h)o=t;else if(s==g){i={};for(var c,u=0,l=t.length;l>u;c=t[u++],s=a.call(c),(s==m||s==d)&&(i[c]=1));}if(n)if((s=a.call(n))==d){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else s==m&&(r=n.length<=10?n:n.slice(0,10));return M("",(c={},c[""]=e,c),o,i,r,"",[])}}if(!t("json-parse")){var N,D,R=String.fromCharCode,L={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},P=function(){throw N=D=null,SyntaxError()},O=function(){for(var e,t,n,r,o,i=D,a=i.length;a>N;)switch(o=i.charCodeAt(N)){case 9:case 10:case 13:case 32:N++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=v?i.charAt(N):i[N],N++,e;case 34:for(e="@",N++;a>N;)if(o=i.charCodeAt(N),32>o)P();else if(92==o)switch(o=i.charCodeAt(++N)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=L[o],N++;break;case 117:for(t=++N,n=N+4;n>N;N++)o=i.charCodeAt(N),o>=48&&57>=o||o>=97&&102>=o||o>=65&&70>=o||P();e+=R("0x"+i.slice(t,N));break;default:P()}else{if(34==o)break;for(o=i.charCodeAt(N),t=N;o>=32&&92!=o&&34!=o;)o=i.charCodeAt(++N);e+=i.slice(t,N)}if(34==i.charCodeAt(N))return N++,e;P();default:if(t=N,45==o&&(r=!0,o=i.charCodeAt(++N)),o>=48&&57>=o){for(48==o&&(o=i.charCodeAt(N+1),o>=48&&57>=o)&&P(),r=!1;a>N&&(o=i.charCodeAt(N),o>=48&&57>=o);N++);if(46==i.charCodeAt(N)){for(n=++N;a>n&&(o=i.charCodeAt(n),o>=48&&57>=o);n++);n==N&&P(),N=n}if(o=i.charCodeAt(N),101==o||69==o){for(o=i.charCodeAt(++N),(43==o||45==o)&&N++,n=N;a>n&&(o=i.charCodeAt(n),o>=48&&57>=o);n++);n==N&&P(),N=n}return+i.slice(t,N)}if(r&&P(),"true"==i.slice(N,N+4))return N+=4,!0;if("false"==i.slice(N,N+5))return N+=5,!1;if("null"==i.slice(N,N+4))return N+=4,null;P()}return"$"},B=function(e){var t,n;if("$"==e&&P(),"string"==typeof e){if("@"==(v?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=O(),"]"!=e;n||(n=!0))n&&(","==e?(e=O(),"]"==e&&P()):P()),","==e&&P(),t.push(B(e));return t}if("{"==e){for(t={};e=O(),"}"!=e;n||(n=!0))n&&(","==e?(e=O(),"}"==e&&P()):P()),(","==e||"string"!=typeof e||"@"!=(v?e.charAt(0):e[0])||":"!=O())&&P(),t[e.slice(1)]=B(O());return t}P()}return e},q=function(e,t,n){var r=F(e,t,n);r===i?delete e[t]:e[t]=r},F=function(e,t,n){var r,i=e[t];if("object"==typeof i&&i)if(a.call(i)==g)for(r=i.length;r--;)q(i,r,n);else o(i,function(e){q(i,e,n)});return n.call(e,t,i)};u.parse=function(e,t){var n,r;return N=0,D=""+e,n=B(O()),"$"!=O()&&P(),N=D=null,t&&a.call(t)==h?F((r={},r[""]=n,r),"",t):n}}}s&&define(function(){return u})}(this)},{}],51:[function(e,t,n){function r(e,t){var n=[];t=t||0;for(var r=t||0;r<e.length;r++)n[r-t]=e[r];return n}t.exports=r},{}],52:[function(e,t,n){function r(){return o||(o=i.io),o}var o,i=e("./global-state"),a=e("jquery");t.exports.fetchAvatar=function(e,t){return r()&&e?void o.emit("get-avatar",e,function(e){t(e)}):void t(null)},t.exports.createAvatar=function(e,t){return r()&&e.name?(e.color||(e.color="#ffffff"),void o.emit("create-avatar",e,function(e){t(e)})):void t(null)},t.exports.getAvatars=function(e,t){return r()?void o.emit("get-avatars-in-door",e,function(e){t(e)}):void t({error:"i aint gonna do it without a socket"})},t.exports.createFaceURL=function(e,t){return e?void a.post("/upload-face-image",{imgBase64:e},function(e){e.err&&(console.log("error uploading face:"),console.log(e.err)),t(e)}):void t(null)},t.exports.createDoor=function(e,t){return r()&&e&&e.subject?void o.emit("get-door",e.subject,function(n){n?t({door:n,error:"door exists"}):o.emit("create-door",e,function(e){t({door:e})})}):void t({error:"bad call brah"})},t.exports.getDoors=function(e,t){return r()&&e?void o.emit("get-doors",{position:e},function(e){t(e)}):void t({error:"do better parameters"})},t.exports.createNote=function(e,t){return r()&&e&&e.text?void o.emit("create-note",e,function(e){t({note:e})}):void t({error:"bad call braaaaaa"})},t.exports.getNotes=function(e,t){return r()&&e?void o.emit("get-notes",e,function(e){t(e)}):void t({error:"i aint gonna do it"})}},{"./global-state":61,jquery:1}],53:[function(e,t,n){function r(){}var o=e("jquery"),i=e("./global-state"),a=(e("./config"),e("./scene-component")),s=e("./keymaster"),c=e("./mousemaster"),u=e("./avatar"),l=e("./object-controls");t.exports=r;var p="avatar-third",h="avatar-first",f=o(".question-mark");r.prototype=Object.create(a.prototype),r.prototype.postInit=function(e){var t=this;this.avatarsByName={},this.avatar=i.playerAvatar,this.addSheenModel(this.avatar),this.firstPerson=!1,this.inCreationMode=!1,this.controls=new l(this.controlsOptions()),this.addCameraTargets(),this.cam.requestPointerlock(),setTimeout(function(){t.reactToPointerLock(t.cam.hasPointerlock)},2e3),this.addInteractionGlue()},r.prototype.controlsOptions=function(){return{target:this.avatar,verticalMouseControl:!1}},r.prototype.preRender=function(){this.controls.update(this.nowDelta)},r.prototype.restore=function(){a.prototype.restore.call(this),this.addCameraTargets(),this.addInteractionGlue()},r.prototype.clean=function(){a.prototype.clean.call(this),s.clearKeydownListener(),s.clearKeyupListener(),s.clearKeypressListener(),s.setPreventDefaults(!1),c.clearMove("controls"),this.camera.removeTarget(p),this.camera.removeTarget(h),this.cam.pointerLockChangeCallback=null},r.prototype.addCameraTargets=function(){this.camera.addTarget({name:p,targetObject:this.avatar.trackingMesh(),cameraPosition:new THREE.Vector3(0,4,40),cameraRotation:new THREE.Euler(0,Math.PI,0),stiffness:.2,fixed:!1}),this.camera.addTarget({name:h,targetObject:this.avatar.trackingMesh(),cameraPosition:new THREE.Vector3(0,0,-1),cameraRotation:new THREE.Euler(0,Math.PI,0),stiffness:.5,fixed:!1}),this.camera.setTarget(p)},r.prototype.addInteractionGlue=function(){var e=this;s.setPreventDefaults(!0),s.keypress(113,this.toggleCameraPerspective.bind(this)),s.keypress(110,this.enterFormCreation.bind(this)),s.keydown([38,87],this.forwardKeydown.bind(this)),s.keydown([37,65],this.leftwardKeydown.bind(this)),s.keydown([40,83],this.downwardKeydown.bind(this)),s.keydown([39,68],this.rightwardKeydown.bind(this)),s.keyup([38,87],this.forwardKeyup.bind(this)),s.keyup([37,65],this.leftwardKeyup.bind(this)),s.keyup([40,83],this.downwardKeyup.bind(this)),s.keyup([39,68],this.rightwardKeyup.bind(this)),c.move(this.mousemove.bind(this),"controls"),this.cam.pointerLockChangeCallback=function(t){e.reactToPointerLock(t)}},r.prototype.toggleCameraPerspective=function(){if(this.controlsActive()){this.firstPerson=!this.firstPerson,this.avatar.setVisible(!this.firstPerson);var e=this.firstPerson?h:p;this.camera.setTarget(e)}},r.prototype.enterFormCreation=function(){if(this.inCreationMode)return!1;if(f.fadeOut(),this.inCreationMode=!0,s.setPreventDefaults(!1),this.cam.canEverHavePointerLock()){var e=this;setTimeout(function(){e.cam.exitPointerlock(),e.reactToPointerLock(e.cam.hasPointerlock)},100)}return!0},r.prototype.exitFormCreation=function(){if(!this.inCreationMode)return!1;if(f.fadeIn(),this.inCreationMode=!1,s.setPreventDefaults(!0),this.cam.canEverHavePointerLock()){var e=this;setTimeout(function(){e.cam.requestPointerlock(),e.reactToPointerLock(e.cam.hasPointerlock)},100)}return!0},r.prototype.reactToPointerLock=function(e){if(this.cam.canEverHavePointerLock()){var t=o(".pointer-lock-tip");this.inCreationMode&&!e?t.hide():!this.inCreationMode&&e?t.hide():this.inCreationMode&&e?(t.text("PRESS ESCAPE TO UNLOCK YOUR HANDS (MOUSE)"),t.show()):this.inCreationMode||e||(t.text("CLICK ANYWHERE TO UNLOCK YOUR EYES (MOUSE)"),t.show())}},r.prototype.forwardKeydown=function(){this.controlsActive()&&this.controls.setForward(!0)},r.prototype.leftwardKeydown=function(){this.controlsActive()&&this.controls.setLeft(!0)},r.prototype.downwardKeydown=function(){this.controlsActive()&&this.controls.setBackward(!0)},r.prototype.rightwardKeydown=function(){this.controlsActive()&&this.controls.setRight(!0)},r.prototype.forwardKeyup=function(){this.controls.setForward(!1)},r.prototype.leftwardKeyup=function(){this.controls.setLeft(!1)},r.prototype.downwardKeyup=function(){this.controls.setBackward(!1)},r.prototype.rightwardKeyup=function(){this.controls.setRight(!1)},r.prototype.mousemove=function(e,t,n){if(this.controlsActive()){var r=n.originalEvent||n,o=r.movementX||r.mozMovementX||r.webkitMovementX,i=r.movementY||r.mozMovementY||r.webkitMovementY;void 0===o&&(void 0!==this.lastClientX?(o=r.clientX-this.lastClientX,i=r.clientY-this.lastClientY):(o=0,i=0),this.lastClientX=r.clientX,this.lastClientY=r.clientY),this.controls.mouseUpdate(o,i)}},r.prototype.avatarUpdate=function(e){if(e._id!==this.avatar._id){var t=this.avatarsByName[e.name];t?t.updateFromModel(e):(t=new u(e),this.addSheenModel(t),this.avatarsByName[e.name]=t)}},r.prototype.handleMyAvatars=function(e){for(var t=0;t<e.length;t++){var n=e[t];this.avatarUpdate(n)}},r.prototype.containsAvatar=function(e){return this.avatarsByName[e.name]},r.prototype.removeAvatar=function(e){var t=this.avatarsByName[e.name];t&&(this.removeSheenModel(t),delete this.avatarsByName[e.name])},r.prototype.controlsActive=function(){return!this.inCreationMode}},{"./avatar":54,"./config":57,"./global-state":61,"./keymaster":64,"./mousemaster":70,"./object-controls":72,"./scene-component":73,jquery:1}],54:[function(e,t,n){function r(e){this.twitching=!1,this.sleeping=!1,THREE.ImageUtils.crossOrigin="",this.faceMaterial=new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture("")}),o.call(this,e)}var o=e("./sheen-model.js"),i=e("./model-loader");t.exports=r;var a=o.prototype;r.prototype=Object.create(a),r.prototype.loadMesh=function(e){var t=this;this.faceGeometry=new THREE.BoxGeometry(1.25,1.25,1.25),this.faceMesh=new THREE.Mesh(this.faceGeometry,this.faceMaterial),this.createTextMesh(),i("/javascripts/3d_models/body.js",function(n,r){t.geometry=n,t.materials=r,t.mesh=new THREE.SkinnedMesh(n,new THREE.MeshFaceMaterial(r)),t.mesh.scale.set(t.scale,t.scale,t.scale),t.faceMesh.position.y=2.7,t.mesh.add(t.faceMesh),t.textMesh&&t.mesh.add(t.textMesh),t.meshes=[t.mesh],e&&e()})},r.prototype.createTextMesh=function(){"nameless_fuck"!==this.name&&(this.textMaterial=new THREE.MeshBasicMaterial({color:0}),this.textGeometry=new THREE.TextGeometry(this.name,{size:.7,height:.1,curveSegments:5,font:"droid sans",bevelEnabled:!1}),this.textGeometry.computeBoundingBox(),this.textGeometry.computeBoundingSphere(),this.textGeometry.computeVertexNormals(),this.textGeometry.center(),this.textMesh=new THREE.Mesh(this.textGeometry,this.textMaterial),this.textMesh.position.set(0,4.3,0))},r.prototype.refreshTextMesh=function(){this.textMesh&&this.hasLoadedMesh&&this.mesh.remove(this.textMesh),this.createTextMesh(),this.textMesh&&this.hasLoadedMesh&&this.mesh.add(this.textMesh)},r.prototype.meshDidLoad=function(){a.meshDidLoad.call(this),this.updateSkinColor(this.color),this.updateFaceImage(this.faceImageUrl),this.sleeping&&this.updateMeshForSleeping()},r.prototype.setScale=function(e){this.mesh.scale.set(e,e,e)},r.prototype.render=function(){if(this.twitching){var e=2*(Math.random()-.5),t=0,n=2*(Math.random()-.5);this.move(e,t,n);var r=1e-4*(Math.random()-.5),o=.4*(Math.random()-.5),i=1e-4*(Math.random()-.5);this.rotate(r,o,i)}},r.prototype.trackingMesh=function(){return this.faceMesh},r.prototype.wakeUp=function(){this.updateSleepState(!1)},r.prototype.goSleep=function(){this.updateSleepState(!0)},r.prototype.updateName=function(e){this.name!==e&&(this.name=e,this.refreshTextMesh())},r.prototype.updateSkinColor=function(e){if(this.color=e,this.hasLoadedMesh){for(var t=this.mesh.material.materials,n=0;n<t.length;n++){var r=t[n];r.color=new THREE.Color(e),r.ambient=new THREE.Color(e),r.emissive=new THREE.Color(e),r.needsUpdate=!0}this.textMaterial&&(this.textMaterial.color=new THREE.Color(e))}},r.prototype.updateFaceImage=function(e){var t;"string"==typeof e&&e.length>0?(this.faceImageUrl=e,t=THREE.ImageUtils.loadTexture(e)):e&&(this.faceImageCanvas=e,t=new THREE.Texture(e)),t&&(t.needsUpdate=!0,this.faceMaterial.map=t,this.faceMaterial.needsUpdate=!0)},r.prototype.updateSleepState=function(e){e!==this.sleeping&&(this.sleeping=e,this.hasLoadedMesh&&this.updateMeshForSleeping())},r.prototype.updateMeshForSleeping=function(){this.sleeping?(this.moveTo(this.mesh.position.x,-10,this.mesh.position.z),this.rotate(Math.PI/2,0,0)):(this.moveTo(this.mesh.position.x,0,this.mesh.position.z),this.rotate(-Math.PI/2,0,0))},r.prototype.serialize=function(){var e=a.serialize.call(this);return e.name=this.name,e.color=this.color,e.faceImageUrl=this.faceImageUrl,e.currentDoor=this.currentDoor?this.currentDoor._id:null,e.sleeping=this.sleeping,e},r.prototype.updateFromModel=function(e){a.updateFromModel.call(this,e),e||(e={}),this.updateName(e.name||"nameless_fuck"),this.updateSkinColor(e.color||"#000000"),this.updateFaceImage(e.faceImageUrl),this.updateSleepState(e.sleeping||!1),e.position&&this.moveTo(e.position)},r.prototype.uploadableFaceImageData=function(){return this.faceImageCanvas&&this.faceImageCanvas.toDataURL?this.faceImageCanvas.toDataURL("image/jpeg",.7):null},r.prototype.positionAsCoordinates=function(){var e=this.hasLoadedMesh?this.mesh.position:{
x:0,y:0,z:0};return e.x.toFixed(0)+"x, "+e.z.toFixed(0)+"y"}},{"./model-loader":69,"./sheen-model.js":74}],55:[function(e,t,n){function r(){}var o=e("jquery"),i=e("./scene-component"),a=e("./avatar"),s=e("./global-state"),c=e("./api-tools"),u=e("./image-dropper"),l=e("./form-validator");t.exports=r,r.prototype=Object.create(i.prototype),r.prototype.postInit=function(e){this.identifier="becoming a man";var t=this;this.avatar=new a({position:{x:-13,y:-2,z:-25}}),s.playerAvatar=this.avatar,this.addSheenModel(this.avatar,function(){t.avatar.setVisible(!1),t.setAvatarCameraTarget()}),this.setupFiledropper(),this.startTitleRainbow(),this.checkLocalStorage(),this.hasEnteredName=!1,o("#avatar-name-input").focus(),o("#avatar-name-form").submit(function(e){e.preventDefault();var n=o("#avatar-name-input").val();t.hasEnteredName||(t.showLoading(!0),c.fetchAvatar(n,function(e){e?t.finishAfterFetchingAvatar(e):(t.showLoading(!1),t.enterAvatarCreationState())}),t.hideExistingAvatarUI()),t.hasEnteredName=!0}),o("#avatar-name-input").on("input",function(e){if(t.hasEnteredName){var n=o(this).val();t.updateAvatarName(n)}}),o(".avatar-creation-submit-button").click(function(){return t.avatar.name=o("#avatar-name-input").val(),l.isValidName(t.avatar.name)?(t.showLoading(!0),void c.createFaceURL(t.avatar.uploadableFaceImageData(),function(e){var n=e?e.imageURL:null;return e&&!n?(t.showError(e.err),void t.showLoading(!1)):(t.avatar.updateFaceImage(n),void c.createAvatar(t.avatar.serialize(),function(e){if(!e||e.error){t.showLoading(!1);var n=e.error||"error creating avatar do better";return void t.showError(n)}t.finishAfterCreatingAvatar(e)}))})):void t.showError("invalid name. letters, numbers, underscores. reasonable length.",1500)})},r.prototype.preRender=function(){this.avatar.rotate(0,.01,0)},r.prototype.clean=function(){i.prototype.clean.call(this),o(".avatar-ui-wrapper").fadeOut()},r.prototype.updateAvatarFaceImage=function(e){this.avatar.updateFaceImage(e)},r.prototype.activateColorPicker=function(){var e=this,t=document.getElementById("avatar-color-picker-slider"),n=document.getElementById("avatar-color-picker-picker");ColorPicker(t,n,function(t,n,r){e.avatar.updateSkinColor(t)})},r.prototype.setupFiledropper=function(){var e=this;o("#avatar-image-drop-zone").text("DROP OR CLICK YOUR FACE HERE"),u.previewCallback=function(t){e.avatar.updateFaceImage(t)},u.init()},r.prototype.startTitleRainbow=function(){var e=["#FF0000","#f26522","#fff200","#00a651","#28abe2","#2e3192","#6868ff"];this.rainbowOptions={colors:e,animate:!0,animateInterval:100,pad:!1,pauseLength:100},o(".snock-title").rainbow(this.rainbowOptions)},r.prototype.checkLocalStorage=function(){var e=localStorage.getItem("lastEnteredAvatarName");e&&(o("#avatar-name-input").val(e),o(".avatar-form-descriptor").text("BECOME WHO YOU WERE / OR CHOOSE A NEW YOU"))},r.prototype.hideExistingAvatarUI=function(){var e=this;o(".snock-title").fadeOut(function(){clearInterval(e.rainbowOptions.interval)})},r.prototype.enterAvatarCreationState=function(){var e=o("#avatar-name-input").val();o("#avatar-name-input").val(""),o("#avatar-name-input").blur(),o(".avatar-form-descriptor").text("NEW CHANCE TO MAKE YOU / SELECT AVATAR COLOR / DRAG IMAGE TO CHANGE FACE / PERMANENT ONCE YOU ENTER"),o(".avatar-creation-submit-button").fadeIn(),o(".avatar-color-picker").fadeIn(),o("#avatar-image-drop-zone").fadeIn(),this.activateColorPicker(),this.layout(),this.updateAvatarName(e);var t=this;o(".avatar-name-form-wrapper").animate({top:60},function(){o("#avatar-name-input").val(e),t.avatar.setVisible(!0)})},r.prototype.updateAvatarName=function(e){this.currentlyEnteredName=e,this.avatar.updateName(e)},r.prototype.setAvatarCameraTarget=function(){this.camera.addTarget({name:"create-avatar-target",targetObject:new THREE.Object3D,cameraPosition:new THREE.Vector3(0,0,0),fixed:!0}),this.camera.setTarget("create-avatar-target")},r.prototype.finishAfterFetchingAvatar=function(e){this.avatar.setVisible(!0),this.commonFinish(e)},r.prototype.finishAfterCreatingAvatar=function(e){this.commonFinish(e)},r.prototype.commonFinish=function(e){localStorage.setItem("lastEnteredAvatarName",e.name),this.avatar.updateFromModel(e),this.avatar.wakeUp(),this.avatar.moveTo(this.avatar.mesh.position.x,0,this.avatar.mesh.position.z),this.markFinished(),this.showLoading(!1)}},{"./api-tools":52,"./avatar":54,"./form-validator":59,"./global-state":61,"./image-dropper":62,"./scene-component":73,jquery:1}],56:[function(e,t,n){function r(){var e=Math.max(window.innerWidth,h),t=Math.max(window.innerHeight,f);s&&s.setSize(e,t),a&&(a.aspect=e/t,a.updateProjectionMatrix())}function o(e,t,n){this.cam=new THREE.TargetCamera(65,window.innerWidth/window.innerHeight,.1,3e3),a=this.cam,s=t,n&&n.minWidth&&(h=n.minWidth),n&&n.minHeight&&(f=n.minHeight),e.add(this.cam),this.raycaster=new THREE.Raycaster(new THREE.Vector3,new THREE.Vector3(0,-1,0),0,10),this.collidableMeshes=[],this.proximableMeshes=[],this.proximityLimit=n.proximityLimit||22500,this.requestFullscreenIfPossible=n.requestFullscreenIfPossible,this.hasPointerlock=!1,this.addPointerlockListeners(n.forbiddenRequestClasses),r()}function i(){l.requestPointerLock=l.requestPointerLock||l.mozRequestPointerLock||l.webkitRequestPointerLock,l.requestPointerLock&&l.requestPointerLock()}var a,s,c=e("jquery"),u="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,l=document.body,p=!1,h=1024,f=600;c(window).resize(r),t.exports=n=o,o.prototype.addCollidableMesh=function(e){this.collidableMeshes.push(e)},o.prototype.addProximableMesh=function(e){this.proximableMeshes.push(e)},o.prototype.render=function(){var e=this.cam;this.raycaster.ray.origin.copy(e.position),this.raycaster.ray.origin.y-=10;var t=this.raycaster.intersectObjects(this.collidableMeshes);if(t.length>0,this.collisionCallback&&this.collisionCallback(t),this.proximityCallback){for(var n=[],r=0;r<this.proximableMeshes.length;r++){var o=this.proximableMeshes[r];if(e&&e.position&&o&&o.position){var i=e.position.x-o.position.x;i*=i;var a=e.position.z-o.position.z;a*=a,n.push(o)}}this.proximityCallback(n)}this.cam.update&&this.cam.update()},o.prototype.pointerlockchange=function(){document.pointerLockElement===l||document.mozPointerLockElement===l||document.webkitPointerLockElement===l?this.hasPointerlock=!0:this.hasPointerlock=!1,this.pointerLockChangeCallback&&this.pointerLockChangeCallback(this.hasPointerlock)},o.prototype.pointerlockerror=function(e){},o.prototype.requestPointerlock=function(){if(p=!0,this.requestFullscreenIfPossible&&/Firefox/i.test(navigator.userAgent)){var e=function(){(document.fullscreenElement===l||document.mozFullscreenElement===l||document.mozFullScreenElement===l)&&(document.removeEventListener("fullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),i())};document.addEventListener("fullscreenchange",e,!1),document.addEventListener("mozfullscreenchange",e,!1),l.requestFullscreen=l.requestFullscreen||l.mozRequestFullScreen||l.webkitRequestFullscreen,l.requestFullscreen()}else i()},o.prototype.exitPointerlock=function(){l.exitPointerLock=l.exitPointerLock||l.mozExitPointerLock||l.webkitExitPointerLock,l.exitPointerLock&&l.exitPointerLock(),p=!1},o.prototype.canEverHavePointerLock=function(){return u},o.prototype.addPointerlockListeners=function(e){var t=this;if(u){var n=["pointerlockchange","mozpointerlockchange","webkitpointerlockchange"];n.forEach(function(e){document.addEventListener(e,function(e){t.pointerlockchange(e)},!1)});var r=["pointerlockerror","mozpointerlockerror","webkitpointerlockerror"];r.forEach(function(e){document.addEventListener(e,function(e){t.pointerlockerror(e)},!1)}),document.addEventListener("click",function(n){if(p){if(e){var r=n.target.className;if(-1!==e.indexOf(r))return}t.requestPointerlock()}},!1)}}},{jquery:1}],57:[function(e,t,n){(function(e,n){var r="undefined"!=typeof window?window.serverConfig.isDebug:"development"===e.env.NODE_ENV;t.exports.isDebug=r,t.exports.mongo_url=r?"mongodb://localhost/test":"mongodb://localhost/snockplanet",t.exports.static_path=n+"/..",t.exports.door_textures={wood:"/images/wooden_door.jpg",metal:"/images/metal_door.jpg",neon:"/images/neon_door.jpg",rainbow:"/images/rainbow_door.jpg"},t.exports.room_textures={girl:"/images/girl_room.jpg",farm:"/images/farm_room.jpg",factory:"/images/factory_room.jpg",space:"/images/space_room.jpg",underwater:"/images/underwater_room.jpg"},t.exports.note_textures={paper:"/images/paper_texture.jpg",tablet:"/images/stonetablet_texture.jpg",ipad:"/images/ipad_texture.jpg",googledocs:"/images/googledocs_texture.jpg",chalkboard:"/images/chalkboard_texture.jpg"},t.exports.randomTexture=function(e){var t=Object.keys(e),n=t[Math.floor(Math.random()*t.length)],r=e[n];return r}}).call(this,e("_process"),"/public/javascripts")},{_process:76}],58:[function(e,t,n){function r(e){o.call(this,e)}var o=e("./sheen-model"),i=e("./config");t.exports=r;var a=o.prototype;r.prototype=Object.create(a),r.prototype.updateFromModel=function(e){a.updateFromModel.call(this,e),this.subject=e.subject||"",this.when=e.when||new Date,this.texture=e.texture||i.randomTexture(i.door_textures),this.wallTexture=e.wallTexture||i.randomTexture(i.room_textures),this.creator=e.creator},r.prototype.loadMesh=function(e){this.material=new THREE.MeshPhongMaterial({map:THREE.ImageUtils.loadTexture(this.texture),reflectivity:.15}),this.geometry=new THREE.BoxGeometry(8,20,.5),this.geometry.center(),this.mesh=new THREE.Mesh(this.geometry,this.material),this.createTextMesh(),this.meshes=[this.mesh],e&&e()},r.prototype.createTextMesh=function(){this.textMaterial=new THREE.MeshBasicMaterial({color:0}),this.textGeometry=new THREE.TextGeometry(this.subject,{size:2.2,height:.01,curveSegments:1,font:"droid sans",bevelThickness:.35,bevelSize:.15,bevelSegments:1,bevelEnabled:!0}),this.textGeometry.computeBoundingBox(),this.textGeometry.computeBoundingSphere(),this.textGeometry.computeVertexNormals(),this.textGeometry.center(),this.textMesh=new THREE.Mesh(this.textGeometry,this.textMaterial),this.mesh.add(this.textMesh),this.textMesh.position.set(0,13,0)},r.prototype.render=function(){this.hasLoadedMesh&&(this.textMesh.rotation.y+=.024)},r.prototype.setTexture=function(e){this.texture=e,this.hasLoadedMesh&&(this.material.map=THREE.ImageUtils.loadTexture(this.texture),this.material.needsUpdate=!0)},r.prototype.setSubject=function(e){this.subject!==e&&(this.subject=e,this.hasLoadedMesh&&this.textMesh&&this.mesh.remove(this.textMesh),this.hasLoadedMesh&&this.createTextMesh())},r.prototype.serialize=function(){var e=a.serialize.call(this);return e.subject=this.subject,e.texture=this.texture,e.wallTexture=this.wallTexture||i.randomTexture(i.room_textures),e.when=this.when,e.creator=this.creator,e}},{"./config":57,"./sheen-model":74}],59:[function(e,t,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_";t.exports.isValidName=function(e,t){t||(t={});var n=t.minLength||1,r=t.maxLength||15;if(!e||e.length<n||e.length>r)return!1;for(var i=0;i<e.length;i++){var a=e.charAt(i);if(!o(a))return!1}return!0};var o=t.exports.isValidChar=function(e){var t=r.indexOf(e);return t>=0}},{}],60:[function(e,t,n){function r(){}var o=e("jquery"),i=e("./config"),a=e("./avatar-control-component"),s=e("./keymaster"),c=e("./door"),u=e("./api-tools"),l=e("./form-validator");t.exports=r;var p=30,h=5;r.prototype=Object.create(a.prototype),r.prototype.postInit=function(e){a.prototype.postInit.call(this,e),this.identifier="outer planet";var t=this;this.creationDoor=new c,this.addSheenModel(this.creationDoor,function(){t.creationDoor.setVisible(!1)}),this.doors=[],this.doorSet={},this.socket&&(u.getAvatars(null,function(e){t.handleMyAvatars(e)}),this.socket.on("door-created",this.addDoor.bind(this)),u.getDoors({x:0,y:0,z:0},function(e){for(var n=0;n<e.length;n++)t.addDoor(e[n])}))},r.prototype.postRender=function(){a.prototype.postRender.call(this);var e=this.frameCount%6===0;if(e)for(var t=0;t<this.doors.length;t++)this.doors[t].render()},r.prototype.restore=function(){a.prototype.restore.call(this),this.avatar.currentDoor=null,this.savedPosition?this.avatar.moveTo(this.savedPosition):this.avatar.moveTo(0,0,0)},r.prototype.addInteractionGlue=function(){a.prototype.addInteractionGlue.call(this);var e=this;s.keypress(32,this.attemptToEnterNearestDoor.bind(this)),o(".door-texture-option").click(function(){e.doorTextureSelected(o(this))}),o(".door-wall-option").click(function(){e.doorWallTextureSelected(o(this))}),o("#door-name-input").on("input",function(t){var n=o(this).val();e.updateDoorSubject(n)}),o("#door-name-form").submit(function(t){t.preventDefault(),e.attemptDoorCreation()}),o(".door-submit-button").click(this.attemptDoorCreation.bind(this)),o(".door-escape-button").click(this.exitFormCreation.bind(this))},r.prototype.attemptToEnterNearestDoor=function(){if(this.controlsActive()){for(var e=p*p,t=h*h,n=this.avatar.mesh.position,r=1e11,o=null,i=0;i<this.doors.length;i++){var a=this.doors[i],s=a.mesh.position.distanceToSquared(n);if(r>s&&(r=s,o=a,t>s))break}o&&e>=r&&this.enterDoorCallback&&(this.savedPosition=this.avatar.mesh.position.clone(),this.enterDoorCallback(o))}},r.prototype.enterFormCreation=function(){if(!a.prototype.enterFormCreation.call(this))return!1;this.creationDoor.setVisible(!0);var e=this.avatar.mesh.position,t=this.avatar.mesh.rotation,n=new THREE.Vector3(-24,0,15),r=new THREE.Vector3(0,1,0),i=t.y;return n.applyAxisAngle(r,i),this.creationDoor.moveTo(e.x+n.x,4,e.z+n.z),this.creationDoor.rotateTo(0,i,0),o(".door-ui-wrapper").fadeIn(),o("#door-name-input").val(""),o("#door-name-input").focus(),o(".texture-option").removeClass("selected-texture"),!0},r.prototype.attemptDoorCreation=function(){var e=this;this.creationDoor.creator=this.avatar._id;var t=this.creationDoor.serialize();return l.isValidName(t.subject)?void u.createDoor(t,function(t){t.error?e.showError(t.error):(e.addDoor(t.door),e.exitFormCreation())}):void e.showError("invalid name. letters, numbers, underscores. reasonable length.",1500)},r.prototype.exitFormCreation=function(){return a.prototype.exitFormCreation.call(this)?(this.creationDoor.setVisible(!1),o(".door-ui-wrapper").fadeOut(),!0):!1},r.prototype.updateDoorSubject=function(e){this.currentlyEnteredSubject=e,this.creationDoor.setSubject(e)},r.prototype.doorTextureSelected=function(e){var t=e.attr("id"),n=i.door_textures,r={"wood-door-texture":n.wood,"metal-door-texture":n.metal,"neon-door-texture":n.neon,"rainbow-door-texture":n.rainbow},a=r[t];a&&(o(".door-texture-option").removeClass("selected-texture"),e.addClass("selected-texture"),this.creationDoor.setTexture(a))},r.prototype.doorWallTextureSelected=function(e){var t=e.attr("id"),n=i.room_textures,r={"door-wall-factory":n.factory,"door-wall-farm":n.farm,"door-wall-girl":n.girl,"door-wall-space":n.space,"door-wall-underwater":n.underwater},a=r[t];a&&(o(".door-wall-option").removeClass("selected-texture"),e.addClass("selected-texture"),this.creationDoor.wallTexture=a)},r.prototype.addDoor=function(e){if(e){if(this.doorSet[e._id])return;this.doorSet[e._id]=!0}var t=new c(e);this.doors.push(t);var n=this;t.addTo(this.scene,function(){n.additionalMeshes.push(t.mesh)})}},{"./api-tools":52,"./avatar-control-component":53,"./config":57,"./door":58,"./form-validator":59,"./keymaster":64,jquery:1}],61:[function(e,t,n){t.exports={}},{}],62:[function(e,t,n){function r(e){if(u.filereader&&l[e.type]){var n=new FileReader;n.onload=function(e){var n=new Image;n.onload=function(){var e=document.createElement("canvas"),r=e.getContext("2d");e.width=a.resizeWidth,e.height=a.resizeHeight||e.width*(n.height/n.width);var o=document.createElement("canvas"),s=o.getContext("2d");o.width=.5*n.width,o.height=.5*n.height,s.drawImage(n,0,0,o.width,o.height),s.drawImage(o,0,0,.5*o.width,.5*o.height),r.drawImage(o,0,0,.5*o.width,.5*o.height,0,0,e.width,e.height),a.previewAreaSelector&&(i(a.previewAreaSelector).html(""),i(a.previewAreaSelector).append(e)),t.exports.previewCallback(e)},n.src=e.target.result},n.readAsDataURL(e)}}function o(e){for(var n=Math.min(e.length,a.maxFiles),o=[],i=0;n>i;i++)o.push(e[i]);for(var s=u.formdata?new FormData:null,i=0;i<o.length;i++){var c=o[i];u.formdata&&s.append("file",c),r(c)}if(u.formdata&&a.imagePostURL){var l=new XMLHttpRequest;l.open("POST",a.imagePostURL),l.onload=function(){t.exports.progressCallback(100)},u.progress&&(l.upload.onprogress=function(e){if(e.lengthComputable){var n=e.loaded/e.total*100|0;t.exports.progressCallback(n)}}),l.send(s)}t.exports.fileCallback(o)}var i=e("jquery"),a=t.exports.options={dragAreaSelector:"#avatar-image-drop-zone",previewAreaSelector:null,dragoverClassname:"hover",dragoverText:"THAT'S RIGHT",maxFiles:1,resizeWidth:128,resizeHeight:128,imagePostURL:null};t.exports.progressCallback=function(e){},t.exports.previewCallback=function(e){},t.exports.fileCallback=function(e){};var s,c,u={filereader:"undefined"!=typeof FileReader,dnd:"draggable"in document.createElement("span"),formdata:!!window.FormData,progress:"upload"in new XMLHttpRequest},l={"image/png":!0,"image/jpeg":!0,"image/gif":!0};t.exports.init=function(){s=document.querySelector(a.dragAreaSelector),a.previousText=s.innerHTML||"",s&&(c=i("<input></input>"),c.attr("type","file"),c.attr("accept","image/*"),c.css("display","none"),i("body").append(c)),u.dnd&&(s.ondragover=function(e){return e.preventDefault(),this.className=a.dragoverClassname,a.dragoverText&&i(s).text(a.dragoverText),!1},s.ondragleave=function(e){return e.preventDefault(),this.className="",a.previousText&&i(s).text(a.previousText),!1},s.ondrop=function(e){e.preventDefault(),this.className="",a.previousText&&i(s).text(a.previousText),o(e.dataTransfer.files)}),c&&(s.onclick=function(e){c.click(),e.preventDefault()},c.change(function(){var e=c.get(0).files;e&&o(e)}))}},{jquery:1}],63:[function(e,t,n){function r(){}var o=e("jquery"),i=e("./config"),a=e("./avatar-control-component"),s=e("./keymaster"),c=e("./api-tools"),u=e("./skybox"),l=e("./note");t.exports=r,r.prototype=Object.create(a.prototype),r.prototype.postInit=function(e){a.prototype.postInit.call(this,e),this.identifier="inner door";var t=this;this.door=e.door,this.notes=[],this.noteSet={},this.avatar.currentDoor=this.door,this.avatar.moveTo(0,0,0),this.room=u.create(2e3,this.door.wallTexture),this.addMesh(this.room),this.socket&&(this.socket.on("note-created",function(e){e.door===t.door._id&&t.addNote(e)}),c.getAvatars(this.door._id,function(e){t.handleMyAvatars(e)}),c.getNotes(this.door._id,function(e){for(var n=0;n<e.length;n++)t.addNote(e[n])}))},r.prototype.controlsOptions=function(){var e=a.prototype.controlsOptions.call(this);return e.fenceDistance=1e3,e},r.prototype.addInteractionGlue=function(){a.prototype.addInteractionGlue.call(this),s.keypress(122,this.exit.bind(this));var e=this;o(".note-texture-option").click(function(){e.noteTextureSelected(o(this))}),o("#message-content-form").submit(function(e){e.preventDefault()}),o(".message-submit-button").click(this.attemptNoteCreation.bind(this)),o(".message-escape-button").click(this.exitFormCreation.bind(this))},r.prototype.enterFormCreation=function(){return a.prototype.enterFormCreation.call(this)?(o(".message-ui-wrapper").fadeIn(),o("#message-content-input").focus(),o("#message-content-input").val(""),o(".texture-option").removeClass("selected-texture"),this.freshNoteAccentTexture=null,!0):!1},r.prototype.exitFormCreation=function(){return this.inCreationMode&&o(".message-ui-wrapper").fadeOut(),a.prototype.exitFormCreation.call(this)},r.prototype.noteTextureSelected=function(e){var t=e.attr("id"),n=i.note_textures,r={"note-texture-paper":n.paper,"note-texture-tablet":n.tablet,"note-texture-ipad":n.ipad,"note-texture-googledocs":n.googledocs,"note-texture-chalkboard":n.chalkboard},a=r[t];a&&(o(".note-texture-option").removeClass("selected-texture"),e.addClass("selected-texture"),this.freshNoteAccentTexture=a)},r.prototype.attemptNoteCreation=function(){var e=this,t=o("#message-content-input").val();if(t.length>4096)return void this.showError("ur message is too long. 4096 max chars.");var n=this.avatar.mesh.position,r={text:t,position:{x:n.x,y:0,z:n.z},creator:this.avatar._id,door:this.door._id,accentTexture:this.freshNoteAccentTexture};c.createNote(r,function(t){t.error?e.showError(t.error):(e.addNote(t.note),e.exitFormCreation())})},r.prototype.addNote=function(e){if(e._id&&!this.noteSet[e._id]){this.noteSet[e._id]=e;var t=new l(e);this.addSheenModel(t),this.notes.push(t)}},r.prototype.exit=function(){this.inCreationMode||this.markFinished()}},{"./api-tools":52,"./avatar-control-component":53,"./config":57,"./keymaster":64,"./note":71,"./skybox":75,jquery:1}],64:[function(e,t,n){function r(e,t){var n=o(e,t.which);n&&(h&&t.preventDefault(),"function"==typeof n.fn&&n.fn(t))}function o(e,t){return e[t+""]}function i(e,t,n){Array.isArray(n)||(n=[n]);for(var r=0;r<n.length;r++){var o=n[r];t[o+""]={fn:e}}}function a(e,t){if(t)e[t+""]=void 0;else for(var n in e)e.hasOwnProperty(n)&&delete e[n]}var s=e("jquery"),c=e("./config"),u={},l={},p={},h=!1;s("body").keydown(function(e){r(u,e)}),s("body").keyup(function(e){r(l,e)}),s("body").keypress(function(e){r(p,e),c.isDebug&&console.log("keypress: "+e.which)}),t.exports.keydown=function(e,t){i(t,u,e)},t.exports.keyup=function(e,t){i(t,l,e)},t.exports.keypress=function(e,t){i(t,p,e)},t.exports.clearKeydownListener=function(e){a(u,e)},t.exports.clearKeyupListener=function(e){a(l,e)},t.exports.clearKeypressListener=function(e){a(p,e)},t.exports.setPreventDefaults=function(e){h=e}},{"./config":57,jquery:1}],65:[function(e,t,n){function r(){}function o(e,t){e.css("-webkit-box-shadow",t),e.css("-moz-box-shadow",t),e.css("box-shadow",t)}t.exports=new r,r.prototype.choice=function(e){var t=Math.floor(Math.random()*e.length);return e[t]},r.prototype.shuffle=function(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n];return t.sort(function(){return.5-Math.random()}),t},r.prototype.randColor=function(){var e=Math.floor(256*Math.random()),t=Math.floor(256*Math.random()),n=Math.floor(256*Math.random());return"rgb("+e+","+t+","+n+")"},r.prototype.randInt=function(e,t){return t?Math.floor(Math.random()*(e-t))+t:Math.floor(Math.random()*e)},r.prototype.colorWheel=function(e){var t="rgb(",n=e%1536,e=n%256;return 256>n?t+"0,255,"+e+")":512>n?t+"0,"+(255-e)+",255)":768>n?t+e+",0,255)":1024>n?t+"255,0,"+(255-e)+")":1280>n?t+"255,"+e+",0)":t+(255-e)+",255,0)"},r.prototype.alphize=function(e,t){return e.replace("rgb","rgba"),e.replace(")",", "+t+")"),e},r.prototype.contrasters=function(){var e=Math.floor(1536*Math.random()),t=this.colorWheel(e),n=this.colorWheel(e+650);return[t,n]},r.prototype.randomShadow=function(e,t){var n=t+"px",r="0px 0px "+n+" "+n+" "+this.randColor();o(e,r)},r.prototype.shadow=function(e,t,n,r,i,a){var s=t+"px",c=n+"px",u=r+"px",l=i+"px",p=s+" "+c+" "+u+" "+l+" "+a;o(e,p)},r.prototype.addTransform=function(e,t){var n=this.getTransform(e);n=n.replace("none","");var r=n+t;this.setTransform(e,r)},r.prototype.setTransform=function(e,t){e.css("-webkit-transform",t),e.css("-moz-transform",t),e.css("-ms-transform",t),e.css("-o-transform",t),e.css("transform",t)},r.prototype.getTransform=function(e){for(var t=["transform","-webkit-transform","-moz-transform","-ms-transform","-o-transform"],n=0;n<t.length;n++){var r=e.css(t[n]);if("none"==r&&n+1<t.length){var o=e.css(t[n+1]);if(o)continue}return r}},r.prototype.clearTransforms=function(e){e.css("-webkit-transform",""),e.css("-moz-transform",""),e.css("-ms-transform",""),e.css("-o-transform",""),e.css("transform","")},r.prototype.rotate=function(e,t){var n=this.getTransform(e);n=n.replace(/matrix\(.*?\)/,"").replace("none","");var r=" rotate("+t+"deg)";this.setTransform(e,n+r)},r.prototype.scale=function(e,t){var n=this.getTransform(e);n=n.replace(/matrix\(.*?\)/,"").replace("none","");var r=" scale("+t+","+t+")";this.setTransform(e,n+r)},r.prototype.translate=function(e,t,n){var r=this.getTransform(e);console.log(r),r=r.replace(/matrix\(.*?\)/,"").replace("none","");var o=" translate("+t+", "+n+")";this.setTransform(e,r+o)},r.prototype.skew=function(e,t,n){var r=this.getTransform(e);r=r.replace(/skew\(.*?\)/,"").replace(/matrix\(.*?\)/,"").replace("none","");var o=t+"deg",i=n+"deg",a=" skew("+o+", "+i+")";this.setTransform(e,r+a)},r.prototype.warp=function(e,t,n,r){var o=this.getTransform(e);o=o.replace(/matrix\(.*?\)/,"").replace("none","");var i=" rotate("+t+"deg)",a=n+"deg",s=r+"deg",c=" skew("+a+", "+s+")";this.setTransform(e,o+i+c)},r.prototype.slaw=function(e,t,n,r){var o=this.getTransform(e);o=o.replace(/matrix\(.*?\)/,"").replace("none","");var i=" scale("+t+","+t+")",a=" translate("+n+", "+r+")";this.setTransform(e,o+i+a)},r.prototype.straw=function(e,t,n){var r=this.getTransform(e);r=r.replace(/matrix\(.*?\)/,"").replace("none","");var o=" scale("+t+","+t+")",i=" rotate("+n+"deg)";this.setTransform(e,r+o+i)},r.prototype.perp=function(e,t){var n=t+"px";e.css("-webkit-perspective",n),e.css("-moz-perspective",n),e.css("-ms-perspective",n),e.css("-o-perspective",n),e.css("perspective",n)},r.prototype.perpo=function(e,t,n){var r=t+"% "+n+"%";e.css("-webkit-perspective-origin",r),e.css("-moz-perspective-origin",r),e.css("-ms-perspective-origin",r),e.css("-o-perspective-origin",r),e.css("perspective-origin",r)},r.prototype.trans3d=function(e,t,n,r){var o=this.getTransform(e);o=o.replace(/matrix3d\(.*?\)/,"").replace("none","");var i=" translate3d("+t+"px, "+n+"px, "+r+"px)";this.setTransform(e,o+i)},r.prototype.scale3d=function(e,t){var n=this.getTransform(e);n=n.replace(/matrix3d\(.*?\)/,"").replace("none","");var r=" scale3d("+t+", "+t+", "+z+")";this.setTransform(e,n+r)},r.prototype.rotate3d=function(e,t,n,r,o){var i=this.getTransform(e);i=i.replace(/matrix3d\(.*?\)/,"").replace("none","");var a=" rotate3d("+t+", "+n+", "+r+", "+o+"deg)";this.setTransform(e,i+a)},r.prototype.rotate3dx=function(e,t){this.rotate3d(e,1,0,0,t)},r.prototype.rotate3dy=function(e,t){this.rotate3d(e,0,1,0,t)},r.prototype.rotate3dz=function(e,t){this.rotate3d(e,0,0,1,t)},r.prototype.addFilter=function(e,t){var n=this.getFilter(e);n=n.replace("none","");var r=n+" "+t;this.setFilter(e,r)},r.prototype.setFilter=function(e,t){e.css("-webkit-filter",t),e.css("-moz-filter",t),e.css("-ms-filter",t),e.css("-o-filter",t),e.css("filter",t)},r.prototype.getFilter=function(e){for(var t=["filter","-webkit-filter","-moz-filter","-ms-filter","-o-filter"],n=0;n<t.length;n++){var r=e.css(t[n]);if("none"==r&&n+1<t.length){var o=e.css(t[n+1]);if(o)continue}return r}},r.prototype.clearFilters=function(e){e.css("-webkit-filter",""),e.css("-moz-filter",""),e.css("-ms-filter",""),e.css("-o-filter",""),e.css("filter","")},r.prototype.grayscale=function(e,t){var n=this.getFilter(e);n=n.replace(/grayscale\(.*?\)/,"").replace("none","");var r=" grayscale("+t+"%)";this.setFilter(e,n+r)},r.prototype.sepia=function(e,t){var n=this.getFilter(e);n=n.replace(/sepia\(.*?\)/,"").replace("none","");var r=" sepia("+t+"%)";this.setFilter(e,n+r)},r.prototype.saturate=function(e,t){var n=this.getFilter(e);n=n.replace(/saturate\(.*?\)/,"").replace("none","");var r=" saturate("+t+"%)";this.setFilter(e,n+r)},r.prototype.invert=function(e,t){var n=this.getFilter(e);n=n.replace(/invert\(.*?\)/,"").replace("none","");var r=" invert("+t+"%)";this.setFilter(e,n+r)},r.prototype.hutate=function(e,t){var n=this.getFilter(e);n=n.replace(/hue-rotate\(.*?\)/,"").replace("none","");var r=" hue-rotate("+t+"deg)";this.setFilter(e,n+r)},r.prototype.opace=function(e,t){var n=this.getFilter(e);n=n.replace(/opacity\(.*?\)/,"").replace("none","");var r=" opacity("+t+"%)";this.setFilter(e,n+r)},r.prototype.brightness=function(e,t){var n=this.getFilter(e);n=n.replace(/brightness\(.*?\)/,"").replace("none","");var r=" brightness("+t+"%)";this.setFilter(e,n+r)},r.prototype.contrast=function(e,t){var n=this.getFilter(e);n=n.replace(/contrast\(.*?\)/,"").replace("none","");var r=" contrast("+t+"%)";this.setFilter(e,n+r)},r.prototype.blur=function(e,t){var n=this.getFilter(e);n=n.replace(/blur\(.*?\)/,"").replace("none","");var r=" blur("+t+"px)";this.setFilter(e,n+r)}},{}],66:[function(e,t,n){t.exports.wrap=function(e,t,n,r,o,i){for(var a=t.split(" "),s="",c=[],u=0,l=a.length;l>u;u++){var p=s+a[u]+" ",h=e.measureText(p),f=h.width;f>o?(c.push({text:s,x:n,y:r}),s=a[u]+" ",r+=i):s=p}return c.push({text:s,x:n,y:r}),c},t.exports.draw=function(e,n,r,o,i,a){for(var s=t.exports.wrap(e,n,o,i,a,r),c=0;c<s.length;c++){var u=s[c];e.fillText(u.text,u.x,u.y)}return s[s.length-1].y+r}},{}],67:[function(e,t,n){t.exports=function(e){e.fn.rainbow=function(t){this.each(function(){if(t.originalText=e(this).html(),t.iterations=0,t.pauseLength||(t.pauseLength=t.animateInterval),e(this).data("options",t),t.pad)for(x=0;x<t.originalText.length;x++)t.colors.unshift(t.colors[t.colors.length-1]);e.fn.rainbow.render(this)})},e.fn.pauseRainbow=function(){this.each(function(){var t=e(this).data("options");t&&(t.animate=!1,e(this).data("options",t))})},e.fn.resumeRainbow=function(){this.each(function(){var t=e(this).data("options");t&&(t.animate=!0,e(this).data("options",t),e.fn.rainbow.render(this))})},e.fn.rainbow.render=function(t){var n=e(t).data("options"),r=n.originalText.split("");n.iterations++;var o="",i=0;for(var a in r)" "!=r[a]?(o=o+'<span style="color: '+n.colors[i]+';">'+r[a]+"</span>",i++):o+=" ",i>=n.colors.length&&(i=0);e(t).html(o);var s=n.iterations%n.colors.length==0;n.animate&&!function(t,n){var r=e(t).data("options"),o=setTimeout(function(){e.fn.rainbow.shift(t)},n);r.interval=o,e(t).data("options",r)}(t,s?n.pauseLength:n.animateInterval)},e.fn.rainbow.shift=function(t){var n=e(t).data("options"),r=n.colors.pop();n.colors.unshift(r),e.fn.rainbow.render(t)}}},{}],68:[function(e,t,n){var r=e("jquery"),o=e("socket.io-client"),i=e("./lib/kutility");e("./lib/rainbow")(r);var a=e("./camera"),s=(e("./config"),e("./global-state")),c=e("./become-avatar-component"),u=e("./general-planet-component"),l=e("./inner-door-component"),p=0,h=1,f=2;r(function(){function e(){H?j.hide():j.show(),H=!H}function t(){switch(requestAnimationFrame(t),k.frameCount+=1,k.frameCount%60===0&&k.mode!==p&&n(),q.render(),k.mode){case p:k.becomeAvatarComponent.render();break;case h:k.generalPlanetComponent.render();break;case f:k.currentInnerDoorComponent.render()}if(k.mode!==p){var e=s.playerAvatar.positionAsCoordinates();E.text("("+e+")")}L.render(O,F)}function n(){s.playerAvatar&&s.playerAvatar._id&&T.emit("avatar-update",s.playerAvatar.serialize())}function d(){k.becomeAvatarComponent=new c,k.becomeAvatarComponent.init(O,T,q),k.becomeAvatarComponent.finishedCallback=function(){C.fadeIn(),m()}}function m(){k.mode=h,k.generalPlanetComponent=new u,k.generalPlanetComponent.init(O,T,q),y();var e=setInterval(function(){N.toggle()},500);if(setTimeout(function(){N.hide(),clearInterval(e)},8e3),!window.chrome){var t=setInterval(function(){D.toggle()},500);setTimeout(function(){clearInterval(t),D.hide()},1e4)}R.volume=.25,k.generalPlanetComponent.enterDoorCallback=function(e){k.generalPlanetComponent.markFinished(),v(e)}}function g(){k.mode=h,k.generalPlanetComponent.restore(),y()}function y(){w("SNOCK PLANET"),x('arrows: move. mouse: camera. "Q": toggle view. space: enter a room. "N": create a room.')}function v(e){k.mode!==f&&(k.mode=f,w(e.subject.toUpperCase()),x('arrows: move. mouse: camera. "Q": toggle view. "Z": exit room. "N": leave a message.'),k.currentInnerDoorComponent=new l,k.currentInnerDoorComponent.init(O,T,q,{door:e}),k.currentInnerDoorComponent.finishedCallback=function(){k.currentInnerDoorComponent.removeObjects(),k.currentInnerDoorComponent=null,g()})}function b(e){var t=parseInt(e);if(void 0!==t){var n=Math.max(t-1,0),r=1===n?"other":"others";M.text(n+" living "+r)}}function x(e){r(".current-instructions").text(e)}function w(e){var t=["rgb(50, 221, 103)","rgb(50, 124, 221)","rgb(110, 50, 221)","rgb(221, 50, 147)","rgb(221, 112, 50)","rgb(221, 214, 50)"];
A.css("color",i.choice(t)),A.text(e)}var k={frameCount:0,mode:p},T=o(window.serverConfig.ioURL);T.on("avatar-updates",function(e){b(e.awakeCount);for(var t=k.generalPlanetComponent,n=k.currentInnerDoorComponent,r=e.avatars,o=0;o<r.length;o++){var i=r[o];i.currentDoor?(n&&n.door._id===i.currentDoor&&n.avatarUpdate(i),t&&t.containsAvatar(i)&&t.removeAvatar(i)):(t&&t.avatarUpdate(i),n&&n.containsAvatar(i)&&n.removeAvatar(i))}});var C=r(".bottom-hud, .top-hud"),E=r(".world-coordinates"),A=r(".current-space"),S=r(".question-mark"),j=r(".faq"),M=r(".avatar-count"),N=r(".instructions-banner"),D=r(".try-chrome-banner"),R=document.querySelector("#background-music");R.onended=function(){R.currentTime=0,R.play()};var L;try{L=new THREE.WebGLRenderer({antialias:!0}),k.renderMode="webgl"}catch(P){r(".error").show(),setTimeout(function(){r(".error").fadeOut()},6666),L=new THREE.CanvasRenderer,k.renderMode="canvas"}L.setClearColor(16777215,1),L.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(L.domElement);var O=new THREE.Scene,B=new THREE.AmbientLight(4210752);O.add(B);var q=new a(O,L,{forbiddenRequestClasses:["question-mark","faq"]}),F=q.cam;s.io=T,s.renderer=L,s.scene=O,s.camera=q,q.active=!0,d(),t();var H=!1;S.click(function(){e()}),r("canvas, .avatar-ui-wrapper, .door-ui-wrapper, .message-ui-wrapper").click(function(){H&&e()}),window.onbeforeunload=function(){var e=s.playerAvatar;e&&(k.mode===f&&k.generalPlanetComponent.savedPosition&&e.moveTo(k.generalPlanetComponent.savedPosition),e.goSleep(),n())}})},{"./become-avatar-component":55,"./camera":56,"./config":57,"./general-planet-component":60,"./global-state":61,"./inner-door-component":63,"./lib/kutility":65,"./lib/rainbow":67,jquery:1,"socket.io-client":2}],69:[function(e,t,n){function r(e,t,n){i[e]={geometry:t,materials:n}}function o(e,t){var n,r=i[e],o=r.geometry.clone();if(Array.isArray(r.materials)){n=[];for(var a=0;a<r.materials.length;a++)n.push(r.materials[a].clone())}else n=r.materials.clone();t(o,n)}var i={};t.exports=function(e,t){if("function"==typeof t){if(i[e])return void o(e,t);var n=new THREE.JSONLoader;n.load(e,function(n,i){r(e,n,i),o(e,t)})}}},{}],70:[function(e,t,n){function r(e,t){for(var n in i){var r=i[n];"function"==typeof r&&r(t.pageX,t.pageY,t)}}var o=e("jquery"),i={};o(document).mousemove(function(e){r(i,e)}),t.exports.move=function(e,t){t||(t="default"),i[t]=e},t.exports.clearMove=function(e){e||(e="default"),delete i[e]}},{jquery:1}],71:[function(e,t,n){function r(e){a.call(this,e),this.initialPosition.y||(this.initialPosition.y=9*(Math.random()+.05)+5)}function o(e){var t=e.text||"",n=e.fontSize||24,r=e.fontName||"Georgia",o=n+'pt "'+r+'"',a=e.backgroundColor||"rgb(245, 245, 245)",s=e.textColor||"black",u=e.minWidth||100,l=e.maxWidth||300,p=e.horPadding||20,h=e.verPadding||20,f=e.imageHeight||150,d=document.createElement("canvas"),m=d.getContext("2d");e.mediaURL&&i(e.mediaURL,function(e){var t=e.width/e.height*f,n=Math.max(p,d.width/2-t/2),r=d.height-f-h;m.drawImage(e,n,r,t,f)}),m.font=o;var g=m.measureText(t).width;d.width=Math.max(u,Math.min(l,g)+2*p),m.font=o;var y=c.wrap(m,t,p,h,d.width,n+10);d.height=Math.max(y[y.length-1].y+n+h+5,n+h),e.mediaURL&&(d.height+=f),m.fillStyle=a,m.fillRect(0,0,d.width,d.height),m.font=o,m.fillStyle=s,m.textBaseline="top";for(var v=0;v<y.length;v++){var b=y[v];m.fillText(b.text,b.x,b.y)}return d}function i(e,t){if(t){if(!e)return void t();var n=new Image;n.onload=function(){t(n)},n.src=e}}var a=e("./sheen-model"),s=e("./config"),c=e("./lib/multiline");t.exports=r;var u=a.prototype;r.prototype=Object.create(u),r.prototype.updateFromModel=function(e){u.updateFromModel.call(this,e),this.text=e.text||"",this.when=e.when||new Date,this.depth=e.depth||15*(Math.random()+.05),this.accentTexture=e.accentTexture||s.randomTexture(s.note_textures),this.door=e.door||null,this.creator=e.creator||null},r.prototype.serialize=function(){var e=u.serialize.call(this);return e.text=this.text,e.when=this.when,e.accentTexture=this.accentTexture||s.randomTexture(s.note_textures),e.door=this.door,e.creator=this.creator,e},r.prototype.loadMesh=function(e){this.canvas=o({text:this.text}),this.texture=new THREE.Texture(this.canvas),this.texture.minFilter=THREE.NearestFilter,this.texture.needsUpdate=!0,this.material=new THREE.MeshBasicMaterial({map:this.texture,side:THREE.DoubleSide});var t=new THREE.ImageUtils.loadTexture(this.accentTexture);t.wrapS=THREE.ClampToEdgeWrapping,t.wrapT=THREE.ClampToEdgeWrapping,t.minFilter=THREE.NearestFilter,this.accentMaterial=new THREE.MeshBasicMaterial({map:t,side:THREE.DoubleSide});var n=[this.accentMaterial,this.accentMaterial.clone(),this.accentMaterial.clone(),this.accentMaterial.clone(),this.material,this.material.clone()];this.meshFaceMaterial=new THREE.MeshFaceMaterial(n);var r=.025;this.width=this.canvas.width*this.scale*r,this.height=this.canvas.height*this.scale*r,this.geometry=new THREE.BoxGeometry(this.width,this.height,this.depth*this.scale),this.mesh=new THREE.Mesh(this.geometry,this.meshFaceMaterial),this.mesh.doubleSided=!0,this.meshes=[this.mesh],e&&e()}},{"./config":57,"./lib/multiline":66,"./sheen-model":74}],72:[function(e,t,n){t.exports=function(e){var t={mousePos:null,target:null,invertX:!0,invertZ:!0,horizontalMouseControl:!0,verticalMouseControl:!0,positionVelocityIncrement:2,positionVelocityDecrement:.95,maxPositionVelocity:40,rotationDamping:{x:100,y:500},rotationLimit:{y:{min:-Math.PI/12,max:Math.PI/12}},rollVelocityIncrement:.05,rollVelocityDecrement:.95,maxRollVelocity:2,fenceDistance:1e13};e||(e={});for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);this.mousePos=t.mousePos||new THREE.Vector2;var r=(Math.PI/2,!1),o=!1,i=!1,a=!1,s=!1,c=!1,u=0,l=new THREE.Vector3,p=new THREE.Quaternion,h=new THREE.Object3D,f=new THREE.Object3D;f.add(h);var d=function(e){var n=t.rollVelocityIncrement,r=t.rollVelocityDecrement,o=t.maxRollVelocity;s?u+=n:c?u-=n:u*=r,u>o?u=o:-o>u&&(u=-o)},m=function(e){var n=t.positionVelocityIncrement,s=t.positionVelocityDecrement,c=t.maxPositionVelocity;r?l.z-=t.invertZ?-n:n:o?l.z+=t.invertZ?-n:n:l.z*=s,i?l.x-=t.invertX?-n:n:a?l.x+=t.invertX?-n:n:l.x*=s,l.z>c?l.z=c:l.z<-c&&(l.z=-c),l.x>c?l.x=c:l.x<-c&&(l.x=-c),l.y*=s},g=function(e){var n,r=l.x*e,o=l.y*e,i=l.z*e;n=t.target&&t.target.meshes?t.target.meshes:t.target?[t.target]:[];for(var a=0;a<n.length;a++){var s=n[a];if(s){s.rotation.set(h.getWorldQuaternion().x,f.rotation.y,0),s.translateX(r),s.translateY(o),s.translateZ(i);var c=t.fenceDistance;s.position.x<-c?s.position.x=-c:s.position.x>c&&(s.position.x=c),s.position.y<-c?s.position.y=-c:s.position.y>c&&(s.position.y=c),s.position.z<-c?s.position.z=-c:s.position.z>c&&(s.position.z=c)}}};this.update=function(e){d(e),m(e),g(e)},this.mouseUpdate=function(e,n){if(t.horizontalMouseControl&&(f.rotation.y-=e/t.rotationDamping.x),t.verticalMouseControl){var r=h.rotation.x-n/t.rotationDamping.y;r<t.rotationLimit.y.min?r=t.rotationLimit.y.min:r>t.rotationLimit.y.max&&(r=t.rotationLimit.y.max),h.rotation.x=r}},this.setForward=function(e){r=e},this.setBackward=function(e){o=e},this.setLeft=function(e){i=e},this.setRight=function(e){a=e},this.setRollLeft=function(e){s=e},this.setRollRight=function(e){c=e},this.getCameraRotation=function(){return p},this.getVelocity=function(){return l},this.getForwardSpeedAsPercentage=function(){return l.z/t.maxPositionVelocity},this.getAbsoluteForwardSpeedAsPercentage=function(){return Math.abs(l.z)/t.maxPositionVelocity},this.isIdle=function(){return!(r||o||i||a)}}},{}],73:[function(e,t,n){function r(){}var o=e("jquery");t.exports=r,r.prototype.init=function(e,t,n,r){r||(r={}),this.scene=e,this.socket=t,this.cam=n,this.camera=n.cam,this.prevTime=performance.now(),this.renderObjects=[],this.additionalMeshes=[],this.layout(),o(window).resize(this.layout),this.frameCount=0,this.identifier=r.identifier||"scene component",this.postInit(r)},r.prototype.postInit=function(e){},r.prototype.render=function(){this.frameCount+=1,this.now=performance.now(),this.nowDelta=(this.now-this.prevTime)/1e3,this.preRender();for(var e=0;e<this.renderObjects.length;e++)this.renderObjects[e].render();this.postRender(),this.prevTime=performance.now()},r.prototype.restore=function(){this.finished=!1;for(var e=0;e<this.renderObjects.length;e++)this.renderObjects[e].addTo(this.scene);for(e=0;e<this.additionalMeshes.length;e++)this.scene.add(this.additionalMeshes[e])},r.prototype.removeObjects=function(){for(var e=0;e<this.renderObjects.length;e++)this.renderObjects[e].removeFrom(this.scene);for(e=0;e<this.additionalMeshes.length;e++)this.scene.remove(this.additionalMeshes[e])},r.prototype.markFinished=function(){this.finished=!0,this.clean(),this.removeObjects(),this.finishedCallback&&this.finishedCallback()},r.prototype.addSheenModel=function(e,t){if(this.finished)return this.renderObjects.push(e),void(t&&t());var n=this;e.addTo(this.scene,function(){n.renderObjects.push(e),t&&t()})},r.prototype.removeSheenModel=function(e,t){var n=this;e.removeFrom(this.scene,function(){var r=n.renderObjects.indexOf(e);r>=0&&n.renderObjects.splice(r,1),t&&t()})},r.prototype.addMesh=function(e){this.scene.add(e),this.additionalMeshes.push(e)},r.prototype.showLoading=function(e){var t=o(".loading-wrapper");e?t.show():t.hide()},r.prototype.showError=function(e,t){t||(t=2e3);var n=o(".error");n.text(e),n.show(),setTimeout(function(){n.hide()},t)},r.prototype.preRender=function(){},r.prototype.postRender=function(){},r.prototype.clean=function(){},r.prototype.layout=function(){}},{jquery:1}],74:[function(e,t,n){function r(e){e||(e={}),this.updateFromModel(e),this.initialPosition=e.position||{x:0,y:0,z:0},this.initialPosition.y||(this.initialPosition.y=0),this.scale=e.scale||2,this.hasLoadedMesh=!1,this.postLoadBehaviors=[]}t.exports=r,r.prototype.loadMesh=function(e){this.mesh=new THREE.Mesh,this.meshes=[this.mesh],e&&e()},r.prototype.meshDidLoad=function(){this.move(this.initialPosition.x,this.initialPosition.y,this.initialPosition.z);for(var e=0;e<this.postLoadBehaviors.length;e++)this.postLoadBehaviors[e]()},r.prototype.addTo=function(e,t){function n(){for(var n=0;n<r.meshes.length;n++)e.add(r.meshes[n]);t&&t()}var r=this;this.hasLoadedMesh?n():this.loadMesh(function(){r.hasLoadedMesh=!0,r.meshDidLoad(),n()})},r.prototype.removeFrom=function(e,t){if(this.hasLoadedMesh){for(var n=0;n<this.meshes.length;n++)e.remove(this.meshes[n]);t&&t()}},r.prototype.move=function(e,t,n){this.hasLoadedMesh&&(this.mesh.translateX(e),this.mesh.translateY(t),this.mesh.translateZ(n))},r.prototype.rotate=function(e,t,n){if(this.hasLoadedMesh){this.mesh.rotation.x+=e,this.mesh.rotation.y+=t,this.mesh.rotation.z+=n;for(var r=0;r<this.meshes.length;r++){var o=this.meshes[r];o!==this.mesh&&o.rotation.copy(this.mesh.rotation)}}},r.prototype.rotateTo=function(e,t,n){if(!this.hasLoadedMesh){var r=this;return void this.postLoadBehaviors.push(function(){r.rotateTo(e,t,n)})}this.mesh.rotation.set(e,t,n),this.rotate(0,0,0)},r.prototype.moveTo=function(e,t,n){this.hasLoadedMesh&&("object"==typeof e&&(t=e.y,n=e.z,e=e.x),this.mesh.position.set(e||0,t||0,n||0),this.move(0,0,0))},r.prototype.setVisible=function(e){if(this.hasLoadedMesh)for(var t=0;t<this.meshes.length;t++)this.meshes[t].visible=e},r.prototype.render=function(){},r.prototype.toString=function(){return JSON.stringify(this.serialize())},r.prototype.serialize=function(){var e={};return this._id&&(e._id=this._id),this.mesh&&(e.position={x:this.mesh.position.x,y:this.mesh.position.y,z:this.mesh.position.z}),e},r.prototype.updateFromModel=function(e){e||(e={}),this._id=e._id||null}},{}],75:[function(e,t,n){function r(e){return[e,e,e,e,e,e]}function o(e,t,n){if(e){t||(t=4),n||(n=4);var o=r(e),i=THREE.ImageUtils.loadTextureCube(o);return i.format=THREE.RGBFormat,i.wrapS=THREE.RepeatWrapping,i.wrapT=THREE.RepeatWrapping,i.repeat.set(t,n),i}}function i(e){var t=THREE.ShaderLib.cube;return t.uniforms.tCube.value=e,t}function a(e){var t=o(e),n=i(t);return new THREE.ShaderMaterial({fragmentShader:n.fragmentShader,vertexShader:n.vertexShader,uniforms:n.uniforms,depthWrite:!1,side:THREE.BackSide,opacity:.5})}var s=e("./config.js");t.exports.create=function(e,t){e||(e=2e4),t||(t=s.randomTexture(s.room_textures));var n=new THREE.BoxGeometry(e,e,e),r=a(t);return new THREE.Mesh(n,r)},t.exports.blocker=function(e){e||(e={x:19500,y:19500,z:19500});var t=new THREE.BoxGeometry(e.x,e.y,e.z),n=new THREE.MeshBasicMaterial({color:0,side:THREE.DoubleSide,opacity:1,transparent:!0});return new THREE.Mesh(t,n)}},{"./config.js":57}],76:[function(e,t,n){function r(){if(!s){s=!0;for(var e,t=a.length;t;){e=a,a=[];for(var n=-1;++n<t;)e[n]();t=a.length}s=!1}}function o(){}var i=t.exports={},a=[],s=!1;i.nextTick=function(e){a.push(e),s||setTimeout(r,0)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=o,i.addListener=o,i.once=o,i.off=o,i.removeListener=o,i.removeAllListeners=o,i.emit=o,i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}]},{},[68]);
